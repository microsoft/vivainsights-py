<!doctype html>
<html class="no-js" lang="en" data-content_root="./">
  <head><meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="author" title="About these documents" href="about.html"><link rel="index" title="Index" href="genindex.html"><link rel="search" title="Search" href="search.html"><link rel="next" title="Demo Notebook for the vivainsights Python package" href="demo-vivainsights-py.html"><link rel="prev" title="vivainsights" href="modules.html">
        <link rel="prefetch" href="_static/vivainsights-py.png" as="image">

    <link rel="shortcut icon" href="_static/favicon.svg"><!-- Generated with Sphinx 7.4.7 and Furo 2025.09.25 -->
        <title>Reference - Functions - vivainsights 0.4.1 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo.css?v=580074bf" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-design.min.css?v=95c83b7e" />
    <link rel="stylesheet" type="text/css" href="_static/styles/furo-extensions.css?v=8dab3a3b" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=9e8d3734" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-with-moon" viewBox="0 0 24 24">
    <title>Auto light/dark, in light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path style="opacity: 50%" d="M 5.411 14.504 C 5.471 14.504 5.532 14.504 5.591 14.504 C 3.639 16.319 4.383 19.569 6.931 20.352 C 7.693 20.586 8.512 20.551 9.25 20.252 C 8.023 23.207 4.056 23.725 2.11 21.184 C 0.166 18.642 1.702 14.949 4.874 14.536 C 5.051 14.512 5.231 14.5 5.411 14.5 L 5.411 14.504 Z"/>
      <line x1="14.5" y1="3.25" x2="14.5" y2="1.25"/>
      <line x1="14.5" y1="15.85" x2="14.5" y2="17.85"/>
      <line x1="10.044" y1="5.094" x2="8.63" y2="3.68"/>
      <line x1="19" y1="14.05" x2="20.414" y2="15.464"/>
      <line x1="8.2" y1="9.55" x2="6.2" y2="9.55"/>
      <line x1="20.8" y1="9.55" x2="22.8" y2="9.55"/>
      <line x1="10.044" y1="14.006" x2="8.63" y2="15.42"/>
      <line x1="19" y1="5.05" x2="20.414" y2="3.636"/>
      <circle cx="14.5" cy="9.55" r="3.6"/>
    </svg>
  </symbol>
  <symbol id="svg-moon-with-sun" viewBox="0 0 24 24">
    <title>Auto light/dark, in dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round"
      class="icon-custom-derived-from-feather-sun-and-tabler-moon">
      <path d="M 8.282 7.007 C 8.385 7.007 8.494 7.007 8.595 7.007 C 5.18 10.184 6.481 15.869 10.942 17.24 C 12.275 17.648 13.706 17.589 15 17.066 C 12.851 22.236 5.91 23.143 2.505 18.696 C -0.897 14.249 1.791 7.786 7.342 7.063 C 7.652 7.021 7.965 7 8.282 7 L 8.282 7.007 Z"/>
      <line style="opacity: 50%" x1="18" y1="3.705" x2="18" y2="2.5"/>
      <line style="opacity: 50%" x1="18" y1="11.295" x2="18" y2="12.5"/>
      <line style="opacity: 50%" x1="15.316" y1="4.816" x2="14.464" y2="3.964"/>
      <line style="opacity: 50%" x1="20.711" y1="10.212" x2="21.563" y2="11.063"/>
      <line style="opacity: 50%" x1="14.205" y1="7.5" x2="13.001" y2="7.5"/>
      <line style="opacity: 50%" x1="21.795" y1="7.5" x2="23" y2="7.5"/>
      <line style="opacity: 50%" x1="15.316" y1="10.184" x2="14.464" y2="11.036"/>
      <line style="opacity: 50%" x1="20.711" y1="4.789" x2="21.563" y2="3.937"/>
      <circle style="opacity: 50%" cx="18" cy="7.5" r="2.169"/>
    </svg>
  </symbol>
  <symbol id="svg-pencil" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-pencil-code">
      <path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" />
      <path d="M13.5 6.5l4 4" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
  <symbol id="svg-eye" viewBox="0 0 24 24">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-eye-code">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0" />
      <path
        d="M11.11 17.958c-3.209 -.307 -5.91 -2.293 -8.11 -5.958c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6c-.21 .352 -.427 .688 -.647 1.008" />
      <path d="M20 21l2 -2l-2 -2" />
      <path d="M17 17l-2 2l2 2" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation" aria-label="Toggle site navigation sidebar">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc" aria-label="Toggle table of contents sidebar">
<label class="overlay sidebar-overlay" for="__navigation"></label>
<label class="overlay toc-overlay" for="__toc"></label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <span class="icon"><svg><use href="#svg-menu"></use></svg></span>
      </label>
    </div>
    <div class="header-center">
      <a href="index.html"><div class="brand">vivainsights 0.4.1 documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
          <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
          <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon no-toc" for="__toc">
        <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="index.html">
  <div class="sidebar-logo-container">
    <img class="sidebar-logo" src="_static/vivainsights-py.png" alt="Logo"/>
  </div>
  
  <span class="sidebar-brand-text">vivainsights 0.4.1 documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="about.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html#how-to-use">How to use</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html#visualization-gallery">Visualization Gallery</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html#related-repositories">Related repositories</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html#contributing">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html#license">License</a></li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="modules.html">vivainsights</a><input aria-label="Toggle navigation of vivainsights" checked="" class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><span class="icon"><svg><use href="#svg-arrow-right"></use></svg></span></label><ul class="current">
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">Reference - Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#visualization-functions">📊 Visualization Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-analysis-identification">🔍 Data Analysis &amp; Identification</a></li>
<li class="toctree-l2"><a class="reference internal" href="#network-analysis">🌐 Network Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-management">📁 Data Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="#utility-functions">🔧 Utility Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-vivainsights">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="demo-vivainsights-py.html">Demo Notebook for the vivainsights Python package</a></li>
<li class="toctree-l1"><a class="reference internal" href="demo-create_odds_ratios.html">Demo: Using <code class="docutils literal notranslate"><span class="pre">create_odds_ratios</span></code> from the vivainsights Python Package</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="NEWS.html">Version 0.4.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="NEWS.html#version-0-4-0">Version 0.4.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="NEWS.html#version-0-3-4">Version 0.3.4</a></li>
<li class="toctree-l1"><a class="reference internal" href="NEWS.html#version-0-3-3">Version 0.3.3</a></li>
<li class="toctree-l1"><a class="reference internal" href="NEWS.html#version-0-3-2">Version 0.3.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="NEWS.html#version-0-3-1">Version 0.3.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="NEWS.html#version-0-3-0">Version 0.3.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="NEWS.html#version-0-2-4">Version 0.2.4</a></li>
<li class="toctree-l1"><a class="reference internal" href="NEWS.html#version-0-2-3">Version 0.2.3</a></li>
<li class="toctree-l1"><a class="reference internal" href="NEWS.html#version-0-2-2">Version 0.2.2</a></li>
<li class="toctree-l1"><a class="reference internal" href="NEWS.html#version-0-2-1">Version 0.2.1</a></li>
<li class="toctree-l1"><a class="reference internal" href="NEWS.html#version-0-2-0">Version 0.2.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="NEWS.html#version-0-1-0">Version 0.1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTORS.html">Contributors</a></li>
<li class="toctree-l1"><a class="reference internal" href="SECURITY.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="SECURITY.html#reporting-security-issues">Reporting Security Issues</a></li>
<li class="toctree-l1"><a class="reference internal" href="SECURITY.html#preferred-languages">Preferred Languages</a></li>
<li class="toctree-l1"><a class="reference internal" href="SECURITY.html#policy">Policy</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="view-this-page">
  <a class="muted-link" href="_sources/vivainsights.rst.txt" title="View this page">
    <svg><use href="#svg-eye"></use></svg>
    <span class="visually-hidden">View this page</span>
  </a>
</div>
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle" aria-label="Toggle Light / Dark / Auto color theme">
              <svg class="theme-icon-when-auto-light"><use href="#svg-sun-with-moon"></use></svg>
              <svg class="theme-icon-when-auto-dark"><use href="#svg-moon-with-sun"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon no-toc" for="__toc">
            <span class="icon"><svg><use href="#svg-toc"></use></svg></span>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="reference-functions">
<h1>Reference - Functions<a class="headerlink" href="#reference-functions" title="Link to this heading">¶</a></h1>
<p>This documentation provides a comprehensive reference for all vivainsights functions, organized by functionality to help you quickly find the tools you need.</p>
</section>
<section id="visualization-functions">
<h1>📊 Visualization Functions<a class="headerlink" href="#visualization-functions" title="Link to this heading">¶</a></h1>
<section id="core-visualization">
<h2>Core Visualization<a class="headerlink" href="#core-visualization" title="Link to this heading">¶</a></h2>
<section id="module-vivainsights.create_bar">
<span id="vivainsights-create-bar-module"></span><h3>vivainsights.create_bar module<a class="headerlink" href="#module-vivainsights.create_bar" title="Link to this heading">¶</a></h3>
<p>The code defines a function <cite>create_bar</cite> that calculates and visualizes the mean of a selected
metric, grouped by a selected HR variable.</p>
<p>The metrics are first aggregated at a user-level prior to being aggregated at the level of the HR variable. The function <cite>create_bar</cite> returns either a plot object or a table, depending on the value passed to <cite>return_type</cite>.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_bar.create_bar_calc">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_bar.</span></span><span class="sig-name descname"><span class="pre">create_bar_calc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mingroup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_bar.html#create_bar_calc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_bar.create_bar_calc" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the mean of a selected metric, grouped by a selected HR variable.</p>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_bar.create_bar_viz">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_bar.</span></span><span class="sig-name descname"><span class="pre">create_bar_viz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mingroup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_subtitle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_bar.html#create_bar_viz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_bar.create_bar_viz" title="Link to this definition">¶</a></dt>
<dd><p>Visualise the mean of a selected metric, grouped by a selected HR variable.</p>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_bar.create_bar">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_bar.</span></span><span class="sig-name descname"><span class="pre">create_bar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mingroup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'plot'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_subtitle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_bar.html#create_bar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_bar.create_bar" title="Link to this definition">¶</a></dt>
<dd><section id="name">
<h4>Name<a class="headerlink" href="#name" title="Link to this heading">¶</a></h4>
<p>create_bar</p>
</section>
<section id="description">
<h4>Description<a class="headerlink" href="#description" title="Link to this heading">¶</a></h4>
<p>The function <cite>create_bar</cite> calculates and visualizes the mean of a selected metric, grouped by a selected HR variable.
The metrics are first aggregated at a user-level prior to being aggregated at the level of the HR variable.
<cite>create_bar</cite> returns either a plot object or a table, depending on the value passed to <cite>return_type</cite>.
Internally, <cite>create_bar</cite> calls <cite>create_bar_viz()</cite> and <cite>create_bar_calc()</cite> to create the plot and calculate the mean of the selected metric, respectively.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>Person query data.</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
<dt class="field-odd">param metric<span class="colon">:</span></dt>
<dd class="field-odd"><p>Name of the metric to be analysed.</p>
</dd>
<dt class="field-even">type metric<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param hrvar<span class="colon">:</span></dt>
<dd class="field-odd"><p>Name of the organizational attribute to be used for grouping.</p>
</dd>
<dt class="field-even">type hrvar<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param mingroup<span class="colon">:</span></dt>
<dd class="field-odd"><p>Minimum group size. Defaults to 5.</p>
</dd>
<dt class="field-even">type mingroup<span class="colon">:</span></dt>
<dd class="field-even"><p>int, optional</p>
</dd>
<dt class="field-odd">param percent<span class="colon">:</span></dt>
<dd class="field-odd"><p>Whether to display values as percentages. Defaults to False.</p>
</dd>
<dt class="field-even">type percent<span class="colon">:</span></dt>
<dd class="field-even"><p>bool, optional</p>
</dd>
<dt class="field-odd">param return_type<span class="colon">:</span></dt>
<dd class="field-odd"><p>The type of output to return. Can be “plot” or “table”. Defaults to “plot”.</p>
</dd>
<dt class="field-even">type return_type<span class="colon">:</span></dt>
<dd class="field-even"><p>str, optional</p>
</dd>
<dt class="field-odd">param plot_title<span class="colon">:</span></dt>
<dd class="field-odd"><p>Title of the plot. Defaults to None.</p>
</dd>
<dt class="field-even">type plot_title<span class="colon">:</span></dt>
<dd class="field-even"><p>str, optional</p>
</dd>
<dt class="field-odd">param plot_subtitle<span class="colon">:</span></dt>
<dd class="field-odd"><p>Subtitle of the plot. Defaults to None.</p>
</dd>
<dt class="field-even">type plot_subtitle<span class="colon">:</span></dt>
<dd class="field-even"><p>str, optional</p>
</dd>
<dt class="field-odd">param figsize<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>figsize</cite> parameter is an optional tuple that specifies the size of the figure for the boxplot visualization. It should be in the format <cite>(width, height)</cite>, where <cite>width</cite> and <cite>height</cite> are in inches. If not provided, a default size of (8, 6) will be used.</p>
</dd>
<dt class="field-even">type figsize<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple, optional</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The output, either a plot or a table, depending on the value passed to <cite>return_type</cite>.</p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span></dt>
<dd class="field-even"><p>Various</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">create_bar</span><span class="p">(</span><span class="n">pq_data</span><span class="p">,</span> <span class="n">metric</span> <span class="o">=</span> <span class="s2">&quot;Collaboration_hours&quot;</span><span class="p">,</span> <span class="n">hrvar</span> <span class="o">=</span> <span class="s2">&quot;LevelDesignation&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
<section id="module-vivainsights.create_boxplot">
<span id="vivainsights-create-boxplot-module"></span><h3>vivainsights.create_boxplot module<a class="headerlink" href="#module-vivainsights.create_boxplot" title="Link to this heading">¶</a></h3>
<p>The function <cite>create_boxplot</cite> creates a boxplot visualization and summary table for a given metric
and grouping variable in a dataset.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_boxplot.create_boxplot_calc">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_boxplot.</span></span><span class="sig-name descname"><span class="pre">create_boxplot_calc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mingroup</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_boxplot.html#create_boxplot_calc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_boxplot.create_boxplot_calc" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_boxplot.create_boxplot_summary">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_boxplot.</span></span><span class="sig-name descname"><span class="pre">create_boxplot_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mingroup</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_boxplot.html#create_boxplot_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_boxplot.create_boxplot_summary" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_boxplot.create_boxplot_viz">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_boxplot.</span></span><span class="sig-name descname"><span class="pre">create_boxplot_viz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mingroup</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_boxplot.html#create_boxplot_viz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_boxplot.create_boxplot_viz" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_boxplot.create_boxplot">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_boxplot.</span></span><span class="sig-name descname"><span class="pre">create_boxplot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Organization'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mingroup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'plot'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_boxplot.html#create_boxplot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_boxplot.create_boxplot" title="Link to this definition">¶</a></dt>
<dd><section id="id1">
<h4>Name<a class="headerlink" href="#id1" title="Link to this heading">¶</a></h4>
<p>create_boxplot</p>
</section>
<section id="id2">
<h4>Description<a class="headerlink" href="#id2" title="Link to this heading">¶</a></h4>
<p>This function creates a boxplot visualization and summary table for a given metric and HR variable
in a pandas DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pandas DataFrame containing the data for analysis.</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas dataframe</p>
</dd>
<dt class="field-odd">param metric<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>metric</cite> parameter is a string that represents the variable or metric for which you want to create the boxplot visualization and summary table. This variable should be present in the input data` DataFrame.</p>
</dd>
<dt class="field-even">type metric<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param hrvar<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>hrvar</cite> parameter is the HR variable that you want to use for grouping the data. By default, it is set to “Organization”, but you can pass a different HR variable if needed.</p>
</dd>
<dt class="field-even">type hrvar<span class="colon">:</span></dt>
<dd class="field-even"><p>str, optional</p>
</dd>
<dt class="field-odd">param mingroup<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>mingroup</cite> parameter is an optional parameter that specifies the minimum number of observations required in each group for the boxplot to be created. If a group has fewer observations than the <cite>mingroup</cite> value, it will be excluded from the boxplot. The default value is 5.</p>
</dd>
<dt class="field-even">type mingroup<span class="colon">:</span></dt>
<dd class="field-even"><p>int, optional</p>
</dd>
<dt class="field-odd">param figsize<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>figsize</cite> parameter is an optional tuple that specifies the size of the figure for the boxplot visualization. It should be in the format <cite>(width, height)</cite>, where <cite>width</cite> and <cite>height</cite> are in inches. If not provided, a default size of (8, 6) will be used.</p>
</dd>
<dt class="field-even">type figsize<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple, optional</p>
</dd>
<dt class="field-odd">param return_type<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>return_type</cite> parameter determines the type of output that the function will return. It can take one of three values:</p>
</dd>
<dt class="field-even">type return_type<span class="colon">:</span></dt>
<dd class="field-even"><p>str, optional</p>
</dd>
<dt class="field-odd">rtype<span class="colon">:</span></dt>
<dd class="field-odd"><p>The function <cite>create_boxplot</cite> returns different outputs based on the value of the <cite>return_type</cite> parameter</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pq_data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">load_pq_data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">create_boxplot</span><span class="p">(</span><span class="n">pq_data</span><span class="p">,</span> <span class="n">metric</span> <span class="o">=</span> <span class="s2">&quot;Collaboration_hours&quot;</span><span class="p">,</span> <span class="n">hrvar</span> <span class="o">=</span> <span class="s2">&quot;Organization&quot;</span><span class="p">,</span> <span class="n">return_type</span> <span class="o">=</span> <span class="s2">&quot;plot&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
<section id="module-vivainsights.create_bubble">
<span id="vivainsights-create-bubble-module"></span><h3>vivainsights.create_bubble module<a class="headerlink" href="#module-vivainsights.create_bubble" title="Link to this heading">¶</a></h3>
<p>The function <cite>create_bubble</cite> creates a bubble visualization and summary table for a given metric
and grouping variable in a dataset.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_bubble.create_bubble">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_bubble.</span></span><span class="sig-name descname"><span class="pre">create_bubble</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Organization'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mingroup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'plot'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bubble_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(1,</span> <span class="pre">100)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_bubble.html#create_bubble"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_bubble.create_bubble" title="Link to this definition">¶</a></dt>
<dd><section id="id3">
<h4>Name<a class="headerlink" href="#id3" title="Link to this heading">¶</a></h4>
<p>create_bubble</p>
</section>
<section id="id4">
<h4>Description<a class="headerlink" href="#id4" title="Link to this heading">¶</a></h4>
<p>The function <cite>create_bubble</cite> creates a bubble plot visualization or summary table based on two selected metrics.
The metrics are first aggregated at a user-level prior to being aggregated at the level of the HR variable.
The bubble size represents the group size (number of employees) for each HR variable group.
<cite>create_bubble</cite> returns either a plot object or a table, depending on the value passed to <cite>return_type</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>Person query data containing the metrics and employee details.</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
<dt class="field-odd">param metric_x<span class="colon">:</span></dt>
<dd class="field-odd"><p>Column name representing the x-axis metric. This variable should be present in the input data DataFrame.</p>
</dd>
<dt class="field-even">type metric_x<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param metric_y<span class="colon">:</span></dt>
<dd class="field-odd"><p>Column name representing the y-axis metric. This variable should be present in the input data DataFrame.</p>
</dd>
<dt class="field-even">type metric_y<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param hrvar<span class="colon">:</span></dt>
<dd class="field-odd"><p>Name of the organizational attribute to be used for grouping. Defaults to “Organization”.</p>
</dd>
<dt class="field-even">type hrvar<span class="colon">:</span></dt>
<dd class="field-even"><p>str, optional</p>
</dd>
<dt class="field-odd">param mingroup<span class="colon">:</span></dt>
<dd class="field-odd"><p>Minimum group size threshold. Groups with fewer employees than this threshold will be excluded from the analysis. Defaults to 5.</p>
</dd>
<dt class="field-even">type mingroup<span class="colon">:</span></dt>
<dd class="field-even"><p>int, optional</p>
</dd>
<dt class="field-odd">param return_type<span class="colon">:</span></dt>
<dd class="field-odd"><p>The type of output to return. Can be “plot” to return a bubble plot visualization, or “table” to return a summary table. Defaults to “plot”.</p>
</dd>
<dt class="field-even">type return_type<span class="colon">:</span></dt>
<dd class="field-even"><p>str, optional</p>
</dd>
<dt class="field-odd">param bubble_size<span class="colon">:</span></dt>
<dd class="field-odd"><p>Size range for the bubbles in the plot as a tuple (min_size, max_size). Defaults to (1, 100).</p>
</dd>
<dt class="field-even">type bubble_size<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple, optional</p>
</dd>
<dt class="field-odd">param figsize<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>figsize</cite> parameter is an optional tuple that specifies the size of the figure for the bubble plot visualization. It should be in the format <cite>(width, height)</cite>, where <cite>width</cite> and <cite>height</cite> are in inches. If not provided, a default size of (8, 6) will be used.</p>
</dd>
<dt class="field-even">type figsize<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple, optional</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The output, either a plot or a table, depending on the value passed to <cite>return_type</cite>.
- If return_type == “plot”, returns a matplotlib Figure object with bubble plot visualization.
- If return_type == “table”, returns a pandas DataFrame with the summarized metrics by HR variable.</p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span></dt>
<dd class="field-even"><p>Various</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pq_data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">load_pq_data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">create_bubble</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">pq_data</span><span class="p">,</span> <span class="n">metric_x</span><span class="o">=</span><span class="s2">&quot;Collaboration_hours&quot;</span><span class="p">,</span> <span class="n">metric_y</span><span class="o">=</span><span class="s2">&quot;Multitasking_hours&quot;</span><span class="p">,</span> <span class="n">hrvar</span><span class="o">=</span><span class="s2">&quot;Organization&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
<section id="module-vivainsights.create_line">
<span id="vivainsights-create-line-module"></span><h3>vivainsights.create_line module<a class="headerlink" href="#module-vivainsights.create_line" title="Link to this heading">¶</a></h3>
<p>This module visualizes the average of metric by sub-population over time.
Returns a line plot showing the average of a selected metric by default.
Additional options available to return a summary table.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_line.create_line_calc">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_line.</span></span><span class="sig-name descname"><span class="pre">create_line_calc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mingroup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_line.html#create_line_calc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_line.create_line_calc" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_line.create_line_viz">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_line.</span></span><span class="sig-name descname"><span class="pre">create_line_viz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mingroup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_line.html#create_line_viz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_line.create_line_viz" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_line.create_line">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_line.</span></span><span class="sig-name descname"><span class="pre">create_line</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mingroup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'plot'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_line.html#create_line"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_line.create_line" title="Link to this definition">¶</a></dt>
<dd><section id="id5">
<h4>Name<a class="headerlink" href="#id5" title="Link to this heading">¶</a></h4>
<p>create_line</p>
</section>
<section id="id6">
<h4>Description<a class="headerlink" href="#id6" title="Link to this heading">¶</a></h4>
<p>Provides a week by week view of a selected metric, visualised as line charts.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>person query data</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas dataframe</p>
</dd>
<dt class="field-odd">param metric<span class="colon">:</span></dt>
<dd class="field-odd"><p>name of the metric to be analysed</p>
</dd>
<dt class="field-even">type metric<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param hrvar<span class="colon">:</span></dt>
<dd class="field-odd"><p>name of the organizational attribute to be used for grouping</p>
</dd>
<dt class="field-even">type hrvar<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param mingroup<span class="colon">:</span></dt>
<dd class="field-odd"><p>Numeric value setting the privacy threshold / minimum group size, by default 5</p>
</dd>
<dt class="field-even">type mingroup<span class="colon">:</span></dt>
<dd class="field-even"><p>int, optional</p>
</dd>
<dt class="field-odd">param figsize<span class="colon">:</span></dt>
<dd class="field-odd"><p>Size of the figure to be plotted, by default None which sets it to (8, 6)</p>
</dd>
<dt class="field-even">type figsize<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple, optional</p>
</dd>
<dt class="field-odd">param return_type<span class="colon">:</span></dt>
<dd class="field-odd"><p>type of output to return. Defaults to “plot”.</p>
</dd>
<dt class="field-even">type return_type<span class="colon">:</span></dt>
<dd class="field-even"><p>str, optional</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The output, either a plot or a table, depending on the value passed to <cite>return_type</cite>.</p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span></dt>
<dd class="field-even"><p>Various</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pq_data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">load_pq_data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Return plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">create_line</span><span class="p">(</span><span class="n">pq_data</span><span class="p">,</span> <span class="n">metric</span> <span class="o">=</span> <span class="s2">&quot;Collaboration_hours&quot;</span><span class="p">,</span> <span class="n">hrvar</span> <span class="o">=</span> <span class="s2">&quot;LevelDesignation&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Return table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">create_line</span><span class="p">(</span><span class="n">pq_data</span><span class="p">,</span> <span class="n">metric</span> <span class="o">=</span> <span class="s2">&quot;Collaboration_hours&quot;</span><span class="p">,</span> <span class="n">hrvar</span> <span class="o">=</span> <span class="s2">&quot;LevelDesignation&quot;</span><span class="p">,</span> <span class="n">return_type</span> <span class="o">=</span> <span class="s2">&quot;table&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
<section id="module-vivainsights.create_rank">
<span id="vivainsights-create-rank-module"></span><h3>vivainsights.create_rank module<a class="headerlink" href="#module-vivainsights.create_rank" title="Link to this heading">¶</a></h3>
<p>This module performs a rank operation on all groups across HR attributes for a selected Viva Insights metric.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_rank.create_rank_calc">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_rank.</span></span><span class="sig-name descname"><span class="pre">create_rank_calc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['Organization',</span> <span class="pre">'FunctionType']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mingroup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_rank.html#create_rank_calc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_rank.create_rank_calc" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_rank.create_rank_viz">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_rank.</span></span><span class="sig-name descname"><span class="pre">create_rank_viz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['Organization',</span> <span class="pre">'FunctionType',</span> <span class="pre">'LevelDesignation',</span> <span class="pre">'SupervisorIndicator']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mingroup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_rank.html#create_rank_viz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_rank.create_rank_viz" title="Link to this definition">¶</a></dt>
<dd><dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_rank.create_rank">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_rank.</span></span><span class="sig-name descname"><span class="pre">create_rank</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mingroup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'plot'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_rank.html#create_rank"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_rank.create_rank" title="Link to this definition">¶</a></dt>
<dd><section id="id7">
<h4>Name<a class="headerlink" href="#id7" title="Link to this heading">¶</a></h4>
<p>create_rank</p>
</section>
<section id="id8">
<h4>Description<a class="headerlink" href="#id8" title="Link to this heading">¶</a></h4>
<p>This function performs a rank operation on all groups across HR attributes for a specified metric.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>person query data</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas dataframe</p>
</dd>
<dt class="field-odd">param metric<span class="colon">:</span></dt>
<dd class="field-odd"><p>name of the metric to be analysed</p>
</dd>
<dt class="field-even">type metric<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param hrvar<span class="colon">:</span></dt>
<dd class="field-odd"><p>name(s) of the organizational attribute(s) to be used for grouping</p>
</dd>
<dt class="field-even">type hrvar<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param figsize<span class="colon">:</span></dt>
<dd class="field-odd"><p>size of the plot to be generated. Defaults to (8, 6).</p>
</dd>
<dt class="field-even">type figsize<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple, optional</p>
</dd>
<dt class="field-odd">param return_type<span class="colon">:</span></dt>
<dd class="field-odd"><p>type of output to return. Defaults to “plot”.</p>
</dd>
<dt class="field-even">type return_type<span class="colon">:</span></dt>
<dd class="field-even"><p>str or optional</p>
</dd>
<dt class="field-odd">rtype<span class="colon">:</span></dt>
<dd class="field-odd"><p>A plot or a table depending on the return_type argument.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pq_data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">load_pq_data</span><span class="p">()</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Return plot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">rank_plot</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">create_rank</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">pq_data</span><span class="p">,</span> <span class="n">hrvar</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;FunctionType&quot;</span><span class="p">,</span> <span class="s2">&quot;Organization&quot;</span><span class="p">],</span> <span class="n">metric</span> <span class="o">=</span> <span class="s2">&quot;Emails_sent&quot;</span><span class="p">,</span> <span class="n">return_type</span> <span class="o">=</span> <span class="s2">&quot;plot&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">rank_plot</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Return table</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">create_rank</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">pq_data</span><span class="p">,</span> <span class="n">hrvar</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;FunctionType&quot;</span><span class="p">,</span> <span class="s2">&quot;Organization&quot;</span><span class="p">],</span> <span class="n">metric</span> <span class="o">=</span> <span class="s2">&quot;Emails_sent&quot;</span><span class="p">,</span> <span class="n">return_type</span> <span class="o">=</span> <span class="s2">&quot;table&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
</section>
<section id="time-series-trends">
<h2>Time Series &amp; Trends<a class="headerlink" href="#time-series-trends" title="Link to this heading">¶</a></h2>
<section id="module-vivainsights.create_trend">
<span id="vivainsights-create-trend-module"></span><h3>vivainsights.create_trend module<a class="headerlink" href="#module-vivainsights.create_trend" title="Link to this heading">¶</a></h3>
<p>The <cite>create_trend</cite> function provides a week by week view of a selected Viva Insights metric,
allowing you to either return a week by week heatmap bar plot or a summary table.
By default, <cite>create_trend</cite> returns a week by week heatmap bar plot, highlighting the points intime with most activity.
Additional options available to return a summary table.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_trend.create_trend">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_trend.</span></span><span class="sig-name descname"><span class="pre">create_trend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">palette</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['#0c3c44',</span> <span class="pre">'#1d627e',</span> <span class="pre">'#34b1e2',</span> <span class="pre">'#bfe5ee',</span> <span class="pre">'#fcf0eb',</span> <span class="pre">'#fbdacd',</span> <span class="pre">'#facebc',</span> <span class="pre">'#fe7f4f']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Organization'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mingroup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'plot'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend_title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Hours'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'MetricDate'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%Y-%m-%d'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_x_axis_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_trend.html#create_trend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_trend.create_trend" title="Link to this definition">¶</a></dt>
<dd><section id="id9">
<h4>Name<a class="headerlink" href="#id9" title="Link to this heading">¶</a></h4>
<p>create_trend</p>
</section>
<section id="id10">
<h4>Description<a class="headerlink" href="#id10" title="Link to this heading">¶</a></h4>
<p>This module provides a week by week view of a selected Viva Insights metric.
By default returns a week by week heatmap bar plot, highlighting the points intime with most activity.
Additional options available to return a summary table.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>The input data as a pandas DataFrame.</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>panda dataframe</p>
</dd>
<dt class="field-odd">param metric<span class="colon">:</span></dt>
<dd class="field-odd"><p>The metric parameter is a string that represents the column name in the data DataFrame that contains the values to be plotted or analyzed. This could be any numerical metric such as sales, revenue, or number of hours worked.</p>
</dd>
<dt class="field-even">type metric<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param palette<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>palette</cite> parameter is a list of colors that will be used to represent different groups in the trend plot. Each color in the list corresponds to a different group. By default, the palette includes 8 colors, but you can modify it to include more or fewer colors if needed.</p>
</dd>
<dt class="field-even">type palette<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
<dt class="field-odd">param hrvar<span class="colon">:</span></dt>
<dd class="field-odd"><p>hrvar is a string parameter that represents the variable used for grouping the data. In this case, it is used to group the data by organization. Defaults to Organization mingroup: The <cite>mingroup</cite> parameter is used to specify the minimum number of groups that should be present in the data for the trend analysis. If the number of unique values in the <cite>hrvar</cite> column is less than <cite>mingroup</cite>, the function will raise an error. Defaults to 5</p>
</dd>
<dt class="field-even">type hrvar<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param return_type<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>return_type</cite> parameter determines the type of output that the function will return. It can have two possible values:. Defaults to plot</p>
</dd>
<dt class="field-even">type return_type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param legend_title<span class="colon">:</span></dt>
<dd class="field-odd"><p>The title for the legend in the plot. It is used to label the different categories or groups in the data. Defaults to Hours</p>
</dd>
<dt class="field-even">type legend_title<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param date_column<span class="colon">:</span></dt>
<dd class="field-odd"><p>The name of the column in the DataFrame that contains the dates for the trend analysis. Defaults to MetricDate</p>
</dd>
<dt class="field-even">type date_column<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param date_format<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>date_format</cite> parameter is used to specify the format of the dates in the <cite>date_column</cite> of the input data. It should be a string that follows the syntax of the Python <cite>datetime</cite> module’s <cite>strftime</cite> function. This allows you to specify how the dates are formatted in the. Defaults to %Y-%m-%d</p>
</dd>
<dt class="field-even">type date_format<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param figsize<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>figsize</cite> parameter is used to specify the size of the figure in inches. If not provided, it defaults to (8, 6). This parameter is used when creating the plot to determine the dimensions of the figure.</p>
</dd>
<dt class="field-even">type figsize<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple, optional</p>
</dd>
<dt class="field-odd">rtype<span class="colon">:</span></dt>
<dd class="field-odd"><p>The function <cite>create_trend</cite> returns either a table or a plot, depending on the value of the <cite>return_type</cite> parameter.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pq_data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">load_pq_data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">create_trend</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">pq_data</span><span class="p">,</span> <span class="n">metric</span> <span class="o">=</span> <span class="s2">&quot;Collaboration_hours&quot;</span><span class="p">,</span> <span class="n">hrvar</span> <span class="o">=</span> <span class="s2">&quot;LevelDesignation&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_trend.create_trend_calc">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_trend.</span></span><span class="sig-name descname"><span class="pre">create_trend_calc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mingroup</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_format</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_trend.html#create_trend_calc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_trend.create_trend_calc" title="Link to this definition">¶</a></dt>
<dd><section id="id11">
<h4>Name<a class="headerlink" href="#id11" title="Link to this heading">¶</a></h4>
<p>create_trend_calc</p>
</section>
<section id="id12">
<h4>Description<a class="headerlink" href="#id12" title="Link to this heading">¶</a></h4>
<p>This function creates a trend calculation by grouping data by a specified variable and calculating
the mean of a specified metric over time.</p>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_trend.create_trend_viz">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_trend.</span></span><span class="sig-name descname"><span class="pre">create_trend_viz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">palette</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mingroup</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend_title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_column</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_format</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size_x_axis_label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_trend.html#create_trend_viz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_trend.create_trend_viz" title="Link to this definition">¶</a></dt>
<dd><section id="id13">
<h4>Name<a class="headerlink" href="#id13" title="Link to this heading">¶</a></h4>
<p>create_trend_viz</p>
</section>
<section id="id14">
<h4>Description<a class="headerlink" href="#id14" title="Link to this heading">¶</a></h4>
<p>This function creates a heatmap visualization of trends in a given metric by a specified variable
over time.</p>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
</section>
<section id="specialized-visualizations">
<h2>Specialized Visualizations<a class="headerlink" href="#specialized-visualizations" title="Link to this heading">¶</a></h2>
<section id="module-vivainsights.create_sankey">
<span id="vivainsights-create-sankey-module"></span><h3>vivainsights.create_sankey module<a class="headerlink" href="#module-vivainsights.create_sankey" title="Link to this heading">¶</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_sankey.create_sankey">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_sankey.</span></span><span class="sig-name descname"><span class="pre">create_sankey</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">var2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'n'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_sankey.html#create_sankey"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_sankey.create_sankey" title="Link to this definition">¶</a></dt>
<dd><section id="id15">
<h4>Name<a class="headerlink" href="#id15" title="Link to this heading">¶</a></h4>
<p>create_sankey</p>
</section>
<section id="id16">
<h4>Description<a class="headerlink" href="#id16" title="Link to this heading">¶</a></h4>
<p>Create a ‘networkD3’ style sankey chart based on a long count table with two variables. The input data should have three columns, where each row is a unique group:
1. Variable 1
2. Variable 2
3. Count</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>Data frame of the long count table.</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>dataframe</p>
</dd>
<dt class="field-odd">param var1<span class="colon">:</span></dt>
<dd class="field-odd"><p>String containing the name of the variable to be shown on the left.</p>
</dd>
<dt class="field-even">type var1<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param var2<span class="colon">:</span></dt>
<dd class="field-odd"><p>String containing the name of the variable to be shown on the right.</p>
</dd>
<dt class="field-even">type var2<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param count<span class="colon">:</span></dt>
<dd class="field-odd"><p>String containing the name of the count variable.</p>
</dd>
<dt class="field-even">type count<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">rtype<span class="colon">:</span></dt>
<dd class="field-odd"><p>A ‘sankeyNetwork’ and ‘htmlwidget’ object containing a two-tier sankey plot. The output can be saved locally with <cite>htmlwidgets::saveWidget()</cite>.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">create_sankey</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">pq_data</span><span class="p">,</span> <span class="n">var1</span> <span class="o">=</span> <span class="s2">&quot;Organization&quot;</span><span class="p">,</span> <span class="n">var2</span> <span class="o">=</span> <span class="s2">&quot;FunctionType&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</dd></dl>

</section>
<section id="module-vivainsights.create_lorenz">
<span id="vivainsights-create-lorenz-module"></span><h3>vivainsights.create_lorenz module<a class="headerlink" href="#module-vivainsights.create_lorenz" title="Link to this heading">¶</a></h3>
<p>This module calculates the Gini coefficient and plots the Lorenz curve for a given metric.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_lorenz.get_value_proportion">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_lorenz.</span></span><span class="sig-name descname"><span class="pre">get_value_proportion</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">df</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">population_share</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_lorenz.html#get_value_proportion"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_lorenz.get_value_proportion" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the proportion of total values (e.g., income, email sent)
that corresponds to a given cumulative share of the population.</p>
<p>Parameters:
df (pd.DataFrame): DataFrame containing cumulative population and value proportions.
population_share (float): The cumulative share of the population (between 0 and 1).</p>
<p>Returns:
float: The proportion of total values corresponding to the given population share.</p>
<p>Raises:
ValueError: If population_share is not between 0 and 1.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_lorenz.compute_gini">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_lorenz.</span></span><span class="sig-name descname"><span class="pre">compute_gini</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_lorenz.html#compute_gini"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_lorenz.compute_gini" title="Link to this definition">¶</a></dt>
<dd><section id="id17">
<h4>Description<a class="headerlink" href="#id17" title="Link to this heading">¶</a></h4>
<p>Compute the Gini coefficient, a measure of statistical dispersion to represent inequality.</p>
<dl class="field-list simple">
<dt class="field-odd">param x (list<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type x (list<span class="colon">:</span></dt>
<dd class="field-even"><p>A numeric vector representing values (e.g., income, emails sent).</p>
</dd>
<dt class="field-odd">param np.ndarray<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type np.ndarray<span class="colon">:</span></dt>
<dd class="field-even"><p>A numeric vector representing values (e.g., income, emails sent).</p>
</dd>
<dt class="field-odd">param pd.Series)<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type pd.Series)<span class="colon">:</span></dt>
<dd class="field-even"><p>A numeric vector representing values (e.g., income, emails sent).</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>float</strong></p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span></dt>
<dd class="field-even"><p>The Gini coefficient for the given vector of values.</p>
</dd>
<dt class="field-odd">raises ValueError<span class="colon">:</span></dt>
<dd class="field-odd"><p>If input is not a numeric vector.:</p>
</dd>
</dl>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_lorenz.create_lorenz">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_lorenz.</span></span><span class="sig-name descname"><span class="pre">create_lorenz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'plot'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_lorenz.html#create_lorenz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_lorenz.create_lorenz" title="Link to this definition">¶</a></dt>
<dd><section id="id18">
<h4>Name<a class="headerlink" href="#id18" title="Link to this heading">¶</a></h4>
<p>create_lorenz</p>
</section>
<section id="id19">
<h4>Description<a class="headerlink" href="#id19" title="Link to this heading">¶</a></h4>
<p>Calculate and return the Lorenz curve and Gini coefficient for a given metric.</p>
<dl class="field-list simple">
<dt class="field-odd">param data (pd.DataFrame)<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type data (pd.DataFrame)<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame containing the data to analyze.</p>
</dd>
<dt class="field-odd">param metric (str)<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type metric (str)<span class="colon">:</span></dt>
<dd class="field-even"><p>The column name in the DataFrame representing the values to analyze.</p>
</dd>
<dt class="field-odd">param return_type (str)<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>“gini”: returns the Gini coefficient.</p></li>
<li><p>“table”: returns a DataFrame of cumulative population and value shares.</p></li>
<li><p>“plot” (default): displays a Lorenz curve plot with the Gini coefficient.</p></li>
</ul>
</dd>
<dt class="field-even">type return_type (str)<span class="colon">:</span></dt>
<dd class="field-even"><p>The type of output to return:</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>float/pd.DataFrame/None</strong> –</p>
<ul class="simple">
<li><p>“gini”: returns the Gini coefficient.</p></li>
<li><p>“table”: returns a DataFrame of population and value shares.</p></li>
<li><p>“plot”: displays the Lorenz curve plot</p></li>
</ul>
</dd>
<dt class="field-even">rtype<span class="colon">:</span></dt>
<dd class="field-even"><p>Depending on return_type:</p>
</dd>
<dt class="field-odd">raises ValueError<span class="colon">:</span></dt>
<dd class="field-odd"><p>If the metric is not found in the DataFrame, or if an invalid return_type is specified.:</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Using <cite>pq_data</cite> from <cite>vi.load_pq_data()</cite>, which returns a DataFrame with an “Emails_sent” column.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Compute the Gini coefficient:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">create_lorenz</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">vi</span><span class="o">.</span><span class="n">load_pq_data</span><span class="p">(),</span> <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;Emails_sent&quot;</span><span class="p">,</span> <span class="n">return_type</span><span class="o">=</span><span class="s2">&quot;gini&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Compute the underlying table for the Lorenz curve:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">create_lorenz</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">vi</span><span class="o">.</span><span class="n">load_pq_data</span><span class="p">(),</span> <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;Emails_sent&quot;</span><span class="p">,</span> <span class="n">return_type</span><span class="o">=</span><span class="s2">&quot;table&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Plot the Lorenz curve</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">create_lorenz</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">vi</span><span class="o">.</span><span class="n">load_pq_data</span><span class="p">(),</span> <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;Emails_sent&quot;</span><span class="p">,</span> <span class="n">return_type</span><span class="o">=</span><span class="s2">&quot;plot&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
<section id="module-vivainsights.create_inc">
<span id="vivainsights-create-inc-module"></span><h3>vivainsights.create_inc module<a class="headerlink" href="#module-vivainsights.create_inc" title="Link to this heading">¶</a></h3>
<p>This module creates an incidence analysis reflecting the proportion of the population scoring above or below a specified threshold for a metric.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_inc.create_inc">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_inc.</span></span><span class="sig-name descname"><span class="pre">create_inc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mingroup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'plot'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_inc.html#create_inc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_inc.create_inc" title="Link to this definition">¶</a></dt>
<dd><section id="id20">
<h4>Name<a class="headerlink" href="#id20" title="Link to this heading">¶</a></h4>
<p>create_inc</p>
</section>
<section id="id21">
<h4>Description<a class="headerlink" href="#id21" title="Link to this heading">¶</a></h4>
<p>Create an incidence analysis reflecting proportion of population scoring above or below a threshold for a metric.
An incidence analysis is generated, with each value in the table reflecting the proportion of the population that
is above or below a threshold for a specified metric. There is an option to only provide a single <cite>hrvar</cite> in which a
bar plot is generated, or two <cite>hrvar</cite> values where an incidence table (heatmap) is generated.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Standard Person Query dataset in the form of a Pandas DataFrame.</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas dataframe</p>
</dd>
<dt class="field-odd">param metric<span class="colon">:</span></dt>
<dd class="field-odd"><p>Name of the metric, e.g. “Collaboration_hours”.</p>
</dd>
<dt class="field-even">type metric<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param hrvar<span class="colon">:</span></dt>
<dd class="field-odd"><p>Name(s) of the HR Variable(s) by which to split metrics.</p>
</dd>
<dt class="field-even">type hrvar<span class="colon">:</span></dt>
<dd class="field-even"><p>str or list</p>
</dd>
<dt class="field-odd">param mingroup<span class="colon">:</span></dt>
<dd class="field-odd"><p>Privacy threshold / minimum group size. Defaults to 5.</p>
</dd>
<dt class="field-even">type mingroup<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
<dt class="field-odd">param threshold<span class="colon">:</span></dt>
<dd class="field-odd"><p>Threshold value to split the data based on the position argument. Defaults to None.</p>
</dd>
<dt class="field-even">type threshold<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
<dt class="field-odd">param position<span class="colon">:</span></dt>
<dd class="field-odd"><p>One of the below valid values:
- “above”: show incidence of those equal to or above the threshold
- “below”: show incidence of those equal to or below the threshold</p>
</dd>
<dt class="field-even">type position<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param return_type<span class="colon">:</span></dt>
<dd class="field-odd"><p>What to return. This must be one of the following strings:
- “plot”
- “table”</p>
</dd>
<dt class="field-even">type return_type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>Output is returned depending on the value passed to the return_type argument</em></p></li>
<li><p><strong>- “plot”</strong> (<em>Matplotlib or Seaborn plot object</em>)</p></li>
<li><p><strong>- “table”</strong> (<em>Pandas DataFrame</em>)</p></li>
</ul>
</dd>
<dt class="field-even">raises ValueError<span class="colon">:</span></dt>
<dd class="field-even"><p>If hrvar is not a string or list with at most length 2.:</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pq_data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">load_pq_data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">create_inc</span><span class="p">(</span>
<span class="go">    pq_data,</span>
<span class="go">    metric = &#39;Collaboration_hours&#39;,</span>
<span class="go">    hrvar = &#39;LevelDesignation&#39;,</span>
<span class="go">    mingroup = 5,</span>
<span class="go">    threshold = 10,</span>
<span class="go">    position = &#39;above&#39;,</span>
<span class="go">    return_type = &#39;plot&#39;</span>
<span class="go">    )</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_inc.create_inc_bar">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_inc.</span></span><span class="sig-name descname"><span class="pre">create_inc_bar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mingroup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'plot'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_inc.html#create_inc_bar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_inc.create_inc_bar" title="Link to this definition">¶</a></dt>
<dd><section id="id22">
<h4>Name<a class="headerlink" href="#id22" title="Link to this heading">¶</a></h4>
<p>create_inc_bar</p>
</section>
<section id="id23">
<h4>Description<a class="headerlink" href="#id23" title="Link to this heading">¶</a></h4>
<p>Run <cite>create_inc</cite> with only single <cite>hrvar</cite>. Returning a bar chart</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Standard Person Query dataset in the form of a Pandas DataFrame.</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas dataframe</p>
</dd>
<dt class="field-odd">param metric<span class="colon">:</span></dt>
<dd class="field-odd"><p>Name of the metric, e.g. “Collaboration_hours”.</p>
</dd>
<dt class="field-even">type metric<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param hrvar<span class="colon">:</span></dt>
<dd class="field-odd"><p>Name of the HR Variable by which to split metrics.</p>
</dd>
<dt class="field-even">type hrvar<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param mingroup<span class="colon">:</span></dt>
<dd class="field-odd"><p>Privacy threshold / minimum group size. Defaults to 5.</p>
</dd>
<dt class="field-even">type mingroup<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
<dt class="field-odd">param threshold<span class="colon">:</span></dt>
<dd class="field-odd"><p>Threshold value to split the data based on the position argument. Defaults to None.</p>
</dd>
<dt class="field-even">type threshold<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
<dt class="field-odd">param position<span class="colon">:</span></dt>
<dd class="field-odd"><p>One of the below valid values:
- “above”: show incidence of those equal to or above the threshold
- “below”: show incidence of those equal to or below the threshold</p>
</dd>
<dt class="field-even">type position<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param figsize<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>figsize</cite> parameter is an optional tuple that specifies the size of the figure for the bar chart visualization. It should be in the format <cite>(width, height)</cite>, where <cite>width</cite> and <cite>height</cite> are in inches. If not provided, a default size of (8, 6) will be used.</p>
</dd>
<dt class="field-even">type figsize<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple, optional</p>
</dd>
<dt class="field-odd">param return_type<span class="colon">:</span></dt>
<dd class="field-odd"><p>What to return. This must be one of the following strings:
- “plot”
- “table”</p>
</dd>
<dt class="field-even">type return_type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>Output is returned depending on the value passed to the return_type argument</em></p></li>
<li><p><strong>- “plot”</strong> (<em>Matplotlib or Seaborn plot object</em>)</p></li>
<li><p><strong>- “table”</strong> (<em>Pandas DataFrame</em>)</p></li>
</ul>
</dd>
<dt class="field-even">raises ValueError<span class="colon">:</span></dt>
<dd class="field-even"><p>If hrvar is not a string.:</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">create_inc_bar</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">pq_data</span><span class="p">,</span> <span class="n">metric</span> <span class="o">=</span> <span class="s2">&quot;Collaboration_hours&quot;</span><span class="p">,</span> <span class="n">hrvar</span> <span class="o">=</span> <span class="s2">&quot;LevelDesignation&quot;</span><span class="p">,</span> <span class="n">threshold</span> <span class="o">=</span> <span class="mi">20</span><span class="p">,</span> <span class="n">position</span> <span class="o">=</span> <span class="s2">&quot;below&quot;</span><span class="p">,</span> <span class="n">return_type</span> <span class="o">=</span> <span class="s2">&quot;plot&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_inc.create_inc_grid">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_inc.</span></span><span class="sig-name descname"><span class="pre">create_inc_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mingroup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">position</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'plot'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_inc.html#create_inc_grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_inc.create_inc_grid" title="Link to this definition">¶</a></dt>
<dd><section id="id24">
<h4>Name<a class="headerlink" href="#id24" title="Link to this heading">¶</a></h4>
<p>create_inc_grid</p>
</section>
<section id="id25">
<h4>Description<a class="headerlink" href="#id25" title="Link to this heading">¶</a></h4>
<p>Run <cite>create_inc</cite> with two <cite>hrvar</cite>.
Returning a heatmap</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Standard Person Query dataset in the form of a Pandas DataFrame.</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas dataframe</p>
</dd>
<dt class="field-odd">param metric<span class="colon">:</span></dt>
<dd class="field-odd"><p>Name of the metric, e.g. “Collaboration_hours”.</p>
</dd>
<dt class="field-even">type metric<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param hrvar<span class="colon">:</span></dt>
<dd class="field-odd"><p>Names of the HR Variables by which to split metrics.</p>
</dd>
<dt class="field-even">type hrvar<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
<dt class="field-odd">param mingroup<span class="colon">:</span></dt>
<dd class="field-odd"><p>Privacy threshold / minimum group size. Defaults to 5.</p>
</dd>
<dt class="field-even">type mingroup<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
<dt class="field-odd">param threshold<span class="colon">:</span></dt>
<dd class="field-odd"><p>Threshold value to split the data based on the position argument. Defaults to None.</p>
</dd>
<dt class="field-even">type threshold<span class="colon">:</span></dt>
<dd class="field-even"><p>float</p>
</dd>
<dt class="field-odd">param position<span class="colon">:</span></dt>
<dd class="field-odd"><p>One of the below valid values:
- “above”: show incidence of those equal to or above the threshold
- “below”: show incidence of those equal to or below the threshold</p>
</dd>
<dt class="field-even">type position<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param figsize<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>figsize</cite> parameter is an optional tuple that specifies the size of the figure for the heatmap visualization. It should be in the format <cite>(width, height)</cite>, where <cite>width</cite> and <cite>height</cite> are in inches. If not provided, a default size of (8, 6) will be used.</p>
</dd>
<dt class="field-even">type figsize<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple, optional</p>
</dd>
<dt class="field-odd">param return_type<span class="colon">:</span></dt>
<dd class="field-odd"><p>What to return. This must be one of the following strings:
- “plot”
- “table”</p>
</dd>
<dt class="field-even">type return_type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>Output is returned depending on the value passed to the return_type argument</em></p></li>
<li><p><strong>- “plot”</strong> (<em>Matplotlib or Seaborn plot object</em>)</p></li>
<li><p><strong>- “table”</strong> (<em>Pandas DataFrame</em>)</p></li>
</ul>
</dd>
<dt class="field-even">raises ValueError<span class="colon">:</span></dt>
<dd class="field-even"><p>If hrvar is not a list of length 2.:</p>
</dd>
</dl>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
</section>
<section id="advanced-analytics-visualizations">
<h2>Advanced Analytics Visualizations<a class="headerlink" href="#advanced-analytics-visualizations" title="Link to this heading">¶</a></h2>
<section id="module-vivainsights.create_bar_asis">
<span id="vivainsights-create-bar-asis-module"></span><h3>vivainsights.create_bar_asis module<a class="headerlink" href="#module-vivainsights.create_bar_asis" title="Link to this heading">¶</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_bar_asis.create_bar_asis">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_bar_asis.</span></span><span class="sig-name descname"><span class="pre">create_bar_asis</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bar_var</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subtitle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caption</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ylab</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">xlab</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bar_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'default'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rounding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_bar_asis.html#create_bar_asis"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_bar_asis.create_bar_asis" title="Link to this definition">¶</a></dt>
<dd><p>Create a bar chart with customizable options.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>-</em>) – DataFrame, the data to be plotted.</p></li>
<li><p><strong>group_var</strong> (<em>-</em>) – str, the variable to be grouped by on the x-axis.</p></li>
<li><p><strong>bar_var</strong> (<em>-</em>) – str, the variable to be plotted on the y-axis.</p></li>
<li><p><strong>title</strong> (<em>-</em>) – str, optional, title of the plot.</p></li>
<li><p><strong>subtitle</strong> (<em>-</em>) – str, optional, subtitle of the plot.</p></li>
<li><p><strong>caption</strong> (<em>-</em>) – str, optional, caption of the plot.</p></li>
<li><p><strong>ylab</strong> (<em>-</em>) – str, optional, label for the y-axis.</p></li>
<li><p><strong>xlab</strong> (<em>-</em>) – str, optional, label for the x-axis.</p></li>
<li><p><strong>percent</strong> (<em>-</em>) – bool, optional, whether to display values as percentages.</p></li>
<li><p><strong>bar_colour</strong> (<em>-</em>) – str, optional, color of the bars. Available options: “default”, “alert”, “darkblue”.</p></li>
<li><p><strong>rounding</strong> (<em>-</em>) – int, optional, number of decimal places to round the values.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Displays the plot.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><ul class="simple">
<li><p>None</p></li>
</ul>
</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-vivainsights.create_IV">
<span id="vivainsights-create-iv-module"></span><h3>vivainsights.create_IV module<a class="headerlink" href="#module-vivainsights.create_IV" title="Link to this heading">¶</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_IV.p_test">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_IV.</span></span><span class="sig-name descname"><span class="pre">p_test</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outcome</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">behavior</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">paired</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_IV.html#p_test"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_IV.p_test" title="Link to this definition">¶</a></dt>
<dd><section id="id26">
<h4>Name<a class="headerlink" href="#id26" title="Link to this heading">¶</a></h4>
<p>p_test</p>
</section>
<section id="id27">
<h4>Description<a class="headerlink" href="#id27" title="Link to this heading">¶</a></h4>
<p>Performs Wilcoxon signed-rank test or rank-sum test between two groups.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Pandas DataFrame.</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
<dt class="field-odd">param outcome<span class="colon">:</span></dt>
<dd class="field-odd"><p>Name of the outcome variable.</p>
</dd>
<dt class="field-even">type outcome<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param behavior<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of behavior variables to test.</p>
</dd>
<dt class="field-even">type behavior<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
<dt class="field-odd">param paired<span class="colon">:</span></dt>
<dd class="field-odd"><p>Boolean indicating if the test should be paired or not. Default is False.</p>
</dd>
<dt class="field-even">type paired<span class="colon">:</span></dt>
<dd class="field-even"><p>bool, optional</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A DataFrame with variables and corresponding p-values.</p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s1">&#39;outcome&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s1">&#39;behavior1&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s1">&#39;behavior2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">25</span><span class="p">,</span> <span class="mi">35</span><span class="p">,</span> <span class="mi">45</span><span class="p">]</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outcome</span> <span class="o">=</span> <span class="s1">&#39;outcome&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">behavior</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;behavior1&#39;</span><span class="p">,</span> <span class="s1">&#39;behavior2&#39;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">p_test</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">behavior</span><span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_IV.calculate_IV">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_IV.</span></span><span class="sig-name descname"><span class="pre">calculate_IV</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outcome</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">predictor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_IV.html#calculate_IV"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_IV.calculate_IV" title="Link to this definition">¶</a></dt>
<dd><section id="id28">
<h4>Name<a class="headerlink" href="#id28" title="Link to this heading">¶</a></h4>
<p>calculate_IV</p>
</section>
<section id="id29">
<h4>Description<a class="headerlink" href="#id29" title="Link to this heading">¶</a></h4>
<p>Calculates Information Value (IV) between a single predictor variable and the outcome variable.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>A DataFrame containing the data.</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
<dt class="field-odd">param outcome<span class="colon">:</span></dt>
<dd class="field-odd"><p>Name of the outcome variable.</p>
</dd>
<dt class="field-even">type outcome<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param predictor<span class="colon">:</span></dt>
<dd class="field-odd"><p>Name of the predictor variable.</p>
</dd>
<dt class="field-even">type predictor<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param bins<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of bins for binning the predictor variable.</p>
</dd>
<dt class="field-even">type bins<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A DataFrame with IV calculations for the predictor variable.</p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
<dt class="field-odd">raises ValueError<span class="colon">:</span></dt>
<dd class="field-odd"><p>If the outcome variable has missing values in the input training data frame.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s1">&#39;outcome&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s1">&#39;predictor&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">]</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outcome</span> <span class="o">=</span> <span class="s1">&#39;outcome&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">predictor</span> <span class="o">=</span> <span class="s1">&#39;predictor&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bins</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">calculate_IV</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="n">predictor</span><span class="p">,</span> <span class="n">bins</span><span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_IV.map_IV">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_IV.</span></span><span class="sig-name descname"><span class="pre">map_IV</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outcome</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">predictors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_IV.html#map_IV"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_IV.map_IV" title="Link to this definition">¶</a></dt>
<dd><section id="id30">
<h4>Name<a class="headerlink" href="#id30" title="Link to this heading">¶</a></h4>
<p>map_IV</p>
</section>
<section id="id31">
<h4>Description<a class="headerlink" href="#id31" title="Link to this heading">¶</a></h4>
<p>Maps Information Value (IV) calculations for multiple predictor variables.
Calls <cite>calculate_IV()</cite> for every predictor-outcome variable pair.</p>
<dl class="field-list simple">
<dt class="field-odd">param - data<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type - data<span class="colon">:</span></dt>
<dd class="field-even"><p>DataFrame containing the data</p>
</dd>
<dt class="field-odd">param - outcome<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type - outcome<span class="colon">:</span></dt>
<dd class="field-even"><p>Name of the outcome variable</p>
</dd>
<dt class="field-odd">param - predictors<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type - predictors<span class="colon">:</span></dt>
<dd class="field-even"><p>List of predictor variables (if None, all numeric variables except outcome are used)</p>
</dd>
<dt class="field-odd">param - bins<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type - bins<span class="colon">:</span></dt>
<dd class="field-even"><p>Number of bins for binning the predictor variables</p>
</dd>
<dt class="field-odd">rtype<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>Dictionary containing IV calculations for each predictor variable and a summary DataFrame</p></li>
</ul>
</dd>
</dl>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_IV.plot_WOE">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_IV.</span></span><span class="sig-name descname"><span class="pre">plot_WOE</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">IV</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">predictor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_IV.html#plot_WOE"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_IV.plot_WOE" title="Link to this definition">¶</a></dt>
<dd><section id="id32">
<h4>Name<a class="headerlink" href="#id32" title="Link to this heading">¶</a></h4>
<p>plot_WOE</p>
</section>
<section id="id33">
<h4>Description<a class="headerlink" href="#id33" title="Link to this heading">¶</a></h4>
<p>Plots Weight of Evidence (WOE) for a predictor variable.</p>
<dl class="field-list simple">
<dt class="field-odd">param IV<span class="colon">:</span></dt>
<dd class="field-odd"><p>Dictionary containing IV calculations for each predictor variable.</p>
</dd>
<dt class="field-even">type IV<span class="colon">:</span></dt>
<dd class="field-even"><p>dict</p>
</dd>
<dt class="field-odd">param predictor<span class="colon">:</span></dt>
<dd class="field-odd"><p>Name of the predictor variable.</p>
</dd>
<dt class="field-even">type predictor<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param figsize<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>figsize</cite> parameter is an optional tuple that specifies the size of the figure for the WOE plot visualization.
It should be in the format <cite>(width, height)</cite>, where <cite>width</cite> and <cite>height</cite> are in inches. If not provided, a default size of (8, 6) will be used.</p>
</dd>
<dt class="field-even">type figsize<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple, optional</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>This function doesn’t return a value; it plots the WOE.</p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span></dt>
<dd class="field-even"><p>None</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span>
<span class="gp">... </span>    <span class="s1">&#39;outcome&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span>
<span class="gp">... </span>    <span class="s1">&#39;predictor&#39;</span><span class="p">:</span> <span class="p">[</span><span class="mi">10</span><span class="p">,</span> <span class="mi">20</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">50</span><span class="p">]</span>
<span class="gp">... </span><span class="p">})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">outcome</span> <span class="o">=</span> <span class="s1">&#39;outcome&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">predictor</span> <span class="o">=</span> <span class="s1">&#39;predictor&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bins</span> <span class="o">=</span> <span class="mi">5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">IV</span> <span class="o">=</span> <span class="n">map_IV</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">outcome</span><span class="p">,</span> <span class="p">[</span><span class="n">predictor</span><span class="p">],</span> <span class="n">bins</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot_WOE</span><span class="p">(</span><span class="n">IV</span><span class="p">,</span> <span class="n">predictor</span><span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_IV.create_IV">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_IV.</span></span><span class="sig-name descname"><span class="pre">create_IV</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data=&lt;class</span> <span class="pre">'pandas.core.frame.DataFrame'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">predictors=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outcome=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bins=5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">siglevel=0.05</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exc_sig=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type='plot'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_IV.html#create_IV"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_IV.create_IV" title="Link to this definition">¶</a></dt>
<dd><section id="id34">
<h4>Name<a class="headerlink" href="#id34" title="Link to this heading">¶</a></h4>
<p>create_IV</p>
</section>
<section id="id35">
<h4>Description<a class="headerlink" href="#id35" title="Link to this heading">¶</a></h4>
<p>Creates Information Value (IV) analysis for predictor variables.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>DataFrame containing the data.</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pd.DataFrame</p>
</dd>
<dt class="field-odd">param predictors<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of predictor variables.</p>
</dd>
<dt class="field-even">type predictors<span class="colon">:</span></dt>
<dd class="field-even"><p>list, optional</p>
</dd>
<dt class="field-odd">param outcome<span class="colon">:</span></dt>
<dd class="field-odd"><p>Name of the outcome variable.</p>
</dd>
<dt class="field-even">type outcome<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param bins<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of bins for binning the predictor variables. Defaults to 5.</p>
</dd>
<dt class="field-even">type bins<span class="colon">:</span></dt>
<dd class="field-even"><p>int, optional</p>
</dd>
<dt class="field-odd">param siglevel<span class="colon">:</span></dt>
<dd class="field-odd"><p>Significance level. Defaults to 0.05.</p>
</dd>
<dt class="field-even">type siglevel<span class="colon">:</span></dt>
<dd class="field-even"><p>float, optional</p>
</dd>
<dt class="field-odd">param exc_sig<span class="colon">:</span></dt>
<dd class="field-odd"><p>Boolean indicating if non-significant predictors should be excluded.
If True, only predictors with p-value &lt;= siglevel are included in the analysis.
If False, all predictors are included regardless of significance. Defaults to False.</p>
</dd>
<dt class="field-even">type exc_sig<span class="colon">:</span></dt>
<dd class="field-even"><p>bool, optional</p>
</dd>
<dt class="field-odd">param return_type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Type of output to return (“plot”, “summary”, “list”, “plot-WOE”, “IV”). Defaults to “plot”.</p>
</dd>
<dt class="field-even">type return_type<span class="colon">:</span></dt>
<dd class="field-even"><p>str, optional</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The type of output to return. Can be “plot”, “summary”, “list”, “plot-WOE”, or “IV”.</p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span></dt>
<dd class="field-even"><p>Various</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>create_IV function return_type ‘list’ and ‘summary’ has output format as a dictionary, please use for loop to access the key and values.</p></li>
<li><p>create_IV function return_type ‘IV’ has output format as a tuple, tuple element ‘output_list’format is dictionary hence please use for loop to access the key and values.</p></li>
</ul>
</div>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pq_data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">load_pq_data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pred_vars</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Email_hours&quot;</span><span class="p">,</span> <span class="s2">&quot;Meeting_hours&quot;</span><span class="p">,</span> <span class="s2">&quot;Chat_hours&quot;</span><span class="p">]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pq_data</span><span class="p">[</span><span class="s2">&quot;outcome_sim&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">pq_data</span><span class="p">[</span><span class="s2">&quot;Internal_network_size&quot;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">40</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Example 1: Return IV tables for all predictors without excluding non-significant ones</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">create_IV</span><span class="p">(</span><span class="n">pq_data</span><span class="p">,</span> <span class="n">predictors</span><span class="o">=</span><span class="n">pred_vars</span><span class="p">,</span> <span class="n">outcome</span><span class="o">=</span><span class="s2">&quot;outcome_sim&quot;</span><span class="p">,</span> <span class="n">exc_sig</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">return_type</span><span class="o">=</span><span class="s2">&quot;IV&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Example 2: Exclude non-significant predictors and return summary</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">create_IV</span><span class="p">(</span><span class="n">pq_data</span><span class="p">,</span> <span class="n">predictors</span><span class="o">=</span><span class="n">pred_vars</span><span class="p">,</span> <span class="n">outcome</span><span class="o">=</span><span class="s2">&quot;outcome_sim&quot;</span><span class="p">,</span> <span class="n">exc_sig</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">return_type</span><span class="o">=</span><span class="s2">&quot;summary&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Example 3: Return IV for all predictors (single plot)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">create_IV</span><span class="p">(</span><span class="n">pq_data</span><span class="p">,</span> <span class="n">predictors</span><span class="o">=</span><span class="n">pred_vars</span><span class="p">,</span> <span class="n">outcome</span><span class="o">=</span><span class="s2">&quot;outcome_sim&quot;</span><span class="p">,</span> <span class="n">exc_sig</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">return_type</span><span class="o">=</span><span class="s2">&quot;plot&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Example 4: Return WOE plots for all predictors</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">create_IV</span><span class="p">(</span><span class="n">pq_data</span><span class="p">,</span> <span class="n">predictors</span><span class="o">=</span><span class="n">pred_vars</span><span class="p">,</span> <span class="n">outcome</span><span class="o">=</span><span class="s2">&quot;outcome_sim&quot;</span><span class="p">,</span> <span class="n">exc_sig</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">return_type</span><span class="o">=</span><span class="s2">&quot;plot-WOE&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
<section id="module-vivainsights.create_odds_ratios">
<span id="vivainsights-create-odds-ratios-module"></span><h3>vivainsights.create_odds_ratios module<a class="headerlink" href="#module-vivainsights.create_odds_ratios" title="Link to this heading">¶</a></h3>
<p>This module calculates odds ratios for ordinal metrics against a specified metric.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_odds_ratios.create_odds_ratios">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_odds_ratios.</span></span><span class="sig-name descname"><span class="pre">create_odds_ratios</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ord_metrics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'table'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_odds_ratios.html#create_odds_ratios"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_odds_ratios.create_odds_ratios" title="Link to this definition">¶</a></dt>
<dd><section id="id36">
<h4>Name<a class="headerlink" href="#id36" title="Link to this heading">¶</a></h4>
<p>create_odds_ratios</p>
</section>
<section id="id37">
<h4>Description<a class="headerlink" href="#id37" title="Link to this heading">¶</a></h4>
<p>Calculates odds ratios for ordinal metrics against a specified metric.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Person Query dataset in the form of a pandas DataFrame.</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas dataframe</p>
</dd>
<dt class="field-odd">param ord_metrics<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of strings referring to the column names of the ordinal variables.</p>
</dd>
<dt class="field-even">type ord_metrics<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
<dt class="field-odd">param metric<span class="colon">:</span></dt>
<dd class="field-odd"><p>Name of the variable to calculate proportional odds against the <cite>ord_metrics</cite>.</p>
</dd>
<dt class="field-even">type metric<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param return_type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Specifies what to return. Defaults to ‘table’.
- ‘table’: Returns a data frame with the final odds ratio table sorted by odds ratio.
- ‘plot’: Returns a plot for visualizing the odds ratio.</p>
</dd>
<dt class="field-even">type return_type<span class="colon">:</span></dt>
<dd class="field-even"><p>str, optional</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Depending on the value of <cite>return_type</cite>, either a table or a plot is returned.</p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas DataFrame or matplotlib Figure</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pq_data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">load_pq_data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">create_odds_ratios</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">pq_data</span><span class="p">,</span> <span class="n">ord_metrics</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Engagement_Score&quot;</span><span class="p">,</span> <span class="s2">&quot;Satisfaction_Score&quot;</span><span class="p">],</span> <span class="n">metric</span><span class="o">=</span><span class="s2">&quot;Copilot_Usage&quot;</span><span class="p">,</span> <span class="n">return_type</span><span class="o">=</span><span class="s2">&quot;table&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.create_odds_ratios.compute_fav">
<span class="sig-prename descclassname"><span class="pre">vivainsights.create_odds_ratios.</span></span><span class="sig-name descname"><span class="pre">compute_fav</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ord_metrics</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item_options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fav_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">70</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">unfav_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">40</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drop_neutral</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/create_odds_ratios.html#compute_fav"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.create_odds_ratios.compute_fav" title="Link to this definition">¶</a></dt>
<dd><section id="id38">
<h4>Name<a class="headerlink" href="#id38" title="Link to this heading">¶</a></h4>
<p>compute_fav</p>
</section>
<section id="id39">
<h4>Description<a class="headerlink" href="#id39" title="Link to this heading">¶</a></h4>
<p>Converts ordinal variables into categorical variables with favorable and unfavorable scores.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dataset containing the ordinal variables.</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas dataframe</p>
</dd>
<dt class="field-odd">param ord_metrics<span class="colon">:</span></dt>
<dd class="field-odd"><p>List of strings referring to the column names of the ordinal variables.</p>
</dd>
<dt class="field-even">type ord_metrics<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
<dt class="field-odd">param item_options<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of options in the ordinal metrics. Default is 5.</p>
</dd>
<dt class="field-even">type item_options<span class="colon">:</span></dt>
<dd class="field-even"><p>int, optional</p>
</dd>
<dt class="field-odd">param fav_threshold<span class="colon">:</span></dt>
<dd class="field-odd"><p>Threshold for favorable scores (in 100-point scale). Default is 70.</p>
</dd>
<dt class="field-even">type fav_threshold<span class="colon">:</span></dt>
<dd class="field-even"><p>int, optional</p>
</dd>
<dt class="field-odd">param unfav_threshold<span class="colon">:</span></dt>
<dd class="field-odd"><p>Threshold for unfavorable scores (in 100-point scale). Default is 40.</p>
</dd>
<dt class="field-even">type unfav_threshold<span class="colon">:</span></dt>
<dd class="field-even"><p>int, optional</p>
</dd>
<dt class="field-odd">param drop_neutral<span class="colon">:</span></dt>
<dd class="field-odd"><p>Whether to drop neutral scores. Default is True.</p>
</dd>
<dt class="field-even">type drop_neutral<span class="colon">:</span></dt>
<dd class="field-even"><p>bool, optional</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The returned DataFrame includes all original columns, plus for each ordinal metric:
- ‘&lt;metric&gt;_100’: the metric rescaled to a 100-point scale
- ‘&lt;metric&gt;_fav’: the favorability category (‘fav’, ‘unfav’, or ‘neu’)
If <cite>drop_neutral</cite> is True, rows with neutral scores are removed.</p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas DataFrame</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pq_data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">load_pq_data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">compute_fav</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">pq_data</span><span class="p">,</span> <span class="n">ord_metrics</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;eSat&quot;</span><span class="p">,</span> <span class="s2">&quot;Initiative&quot;</span><span class="p">],</span> <span class="n">item_options</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">fav_threshold</span><span class="o">=</span><span class="mi">70</span><span class="p">,</span> <span class="n">unfav_threshold</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">drop_neutral</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
</section>
</section>
<section id="data-analysis-identification">
<h1>🔍 Data Analysis &amp; Identification<a class="headerlink" href="#data-analysis-identification" title="Link to this heading">¶</a></h1>
<section id="employee-behavior-analysis">
<h2>Employee Behavior Analysis<a class="headerlink" href="#employee-behavior-analysis" title="Link to this heading">¶</a></h2>
<section id="module-vivainsights.identify_churn">
<span id="vivainsights-identify-churn-module"></span><h3>vivainsights.identify_churn module<a class="headerlink" href="#module-vivainsights.identify_churn" title="Link to this heading">¶</a></h3>
<p>This module identifies and counts the number of employees who have churned from the dataset.
This is done by measuring whether an employee who is present in the first <cite>n</cite> (n1) weeks of the data,
is also present in the last <cite>n</cite> (n2) weeks of the data.
An additional use case of this function is the ability to identify “new-joiners” by using the argument <cite>flip</cite>.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.identify_churn.identify_churn">
<span class="sig-prename descclassname"><span class="pre">vivainsights.identify_churn.</span></span><span class="sig-name descname"><span class="pre">identify_churn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">n2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">6</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'message'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">flip</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_column</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'MetricDate'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%Y-%m-%d'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/identify_churn.html#identify_churn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.identify_churn.identify_churn" title="Link to this definition">¶</a></dt>
<dd><section id="id40">
<h4>Name<a class="headerlink" href="#id40" title="Link to this heading">¶</a></h4>
<p>identify_churn</p>
</section>
<section id="id41">
<h4>Description<a class="headerlink" href="#id41" title="Link to this heading">¶</a></h4>
<p>This module identifies and counts the number of employees who have churned from the dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>The dataframe to export</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas dataframe</p>
</dd>
<dt class="field-odd">param n1<span class="colon">:</span></dt>
<dd class="field-odd"><p>First <cite>n</cite> weeks of data to check for the person’s presence</p>
</dd>
<dt class="field-even">type n1<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
<dt class="field-odd">param n2<span class="colon">:</span></dt>
<dd class="field-odd"><p>Last <cite>n</cite> weeks of data to check for the person’s presence</p>
</dd>
<dt class="field-even">type n2<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
<dt class="field-odd">param return_type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Type of return expected</p>
</dd>
<dt class="field-even">type return_type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param flip<span class="colon">:</span></dt>
<dd class="field-odd"><p>Flag to switch between identifying churned users vs new users</p>
</dd>
<dt class="field-even">type flip<span class="colon">:</span></dt>
<dd class="field-even"><p>boolean</p>
</dd>
<dt class="field-odd">param date_column<span class="colon">:</span></dt>
<dd class="field-odd"><p>DateTime column based on which churn is calculated, defaults to MetricDate for Nova</p>
</dd>
<dt class="field-even">type date_column<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param date_format<span class="colon">:</span></dt>
<dd class="field-odd"><p>DateTime format in input file, defaults to YYYY-mm-dd</p>
</dd>
<dt class="field-even">type date_format<span class="colon">:</span></dt>
<dd class="field-even"><p>datetime</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>A different output is returned depending on the value passed to the <cite>return_type</cite> argument</p></li>
<li><p><strong>- “message”`</strong> (<em>Message on console. A diagnostic message.</em>)</p></li>
<li><p><strong>- “text”`</strong> (<em>String. A diagnostic message.</em>)</p></li>
<li><p><strong>- “data”`</strong> (Character vector containing the the <cite>PersonId</cite> of employees who have been identified as churned.)</p></li>
</ul>
</dd>
</dl>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
<section id="module-vivainsights.identify_tenure">
<span id="vivainsights-identify-tenure-module"></span><h3>vivainsights.identify_tenure module<a class="headerlink" href="#module-vivainsights.identify_tenure" title="Link to this heading">¶</a></h3>
<p>The <cite>identify_tenure</cite> function calculates and summarizes employee tenure based on hire and metric
dates, and provides various options for returning the results.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.identify_tenure.identify_tenure">
<span class="sig-prename descclassname"><span class="pre">vivainsights.identify_tenure.</span></span><span class="sig-name descname"><span class="pre">identify_tenure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">beg_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'HireDate'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'MetricDate'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">maxten</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">40</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'message'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%Y-%m-%d'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/identify_tenure.html#identify_tenure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.identify_tenure.identify_tenure" title="Link to this definition">¶</a></dt>
<dd><section id="id42">
<h4>Name<a class="headerlink" href="#id42" title="Link to this heading">¶</a></h4>
<p>identify_tenure</p>
</section>
<section id="id43">
<h4>Description<a class="headerlink" href="#id43" title="Link to this heading">¶</a></h4>
<p>The function <cite>identify_tenure</cite> calculates and summarizes employee tenure based on hire and metric
dates, and provides various options for returning the results.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>data</cite> parameter is a pandas DataFrame that contains the employee data. It should have columns for the hire date (<cite>beg_date</cite>) and the metric date (<cite>end_date</cite>).</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas dataframe</p>
</dd>
<dt class="field-odd">param beg_date<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>beg_date</cite> parameter is the name of the column in the DataFrame that represents the start date of employment for each employee. By default, it is set to “HireDate”.</p>
</dd>
<dt class="field-even">type beg_date<span class="colon">:</span></dt>
<dd class="field-even"><p>optional</p>
</dd>
<dt class="field-odd">param end_date<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>end_date</cite> parameter is the name of the column in the <cite>data</cite> DataFrame that represents the end date of the tenure period for each employee.</p>
</dd>
<dt class="field-even">type end_date<span class="colon">:</span></dt>
<dd class="field-even"><p>optional</p>
</dd>
<dt class="field-odd">param maxten<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>maxten</cite> parameter is used to specify the maximum tenure in years. Employees with a tenure greater than or equal to <cite>maxten</cite> will be considered as “odd” employees.</p>
</dd>
<dt class="field-even">type maxten<span class="colon">:</span></dt>
<dd class="field-even"><p>optional</p>
</dd>
<dt class="field-odd">param return_type<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>return_type</cite> parameter determines the type of output that the function will return. It can have the following values:
- “message” (default)
- “plot”
- “data_cleaned”
- “data_dirty”
- “data”
- “text”</p>
</dd>
<dt class="field-even">type return_type<span class="colon">:</span></dt>
<dd class="field-even"><p>optional</p>
</dd>
<dt class="field-odd">param date_format<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>date_format</cite> parameter is used to specify the format of the date strings in the <cite>beg_date</cite> and <cite>end_date</cite> columns of the input DataFrame. It is set to “%Y-%m-%d” by default, which represents the format “YYYY-MM-DD”.</p>
</dd>
<dt class="field-even">type date_format<span class="colon">:</span></dt>
<dd class="field-even"><p>optional</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The function <cite>identify_tenure</cite> returns different outputs based on the value of the <cite>return_type</cite></p></li>
<li><p><em>parameter. The possible return values are</em></p></li>
</ul>
</dd>
</dl>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
<section id="module-vivainsights.identify_habit">
<span id="vivainsights-identify-habit-module"></span><h3>vivainsights.identify_habit module<a class="headerlink" href="#module-vivainsights.identify_habit" title="Link to this heading">¶</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.identify_habit.identify_habit">
<span class="sig-prename descclassname"><span class="pre">vivainsights.identify_habit.</span></span><span class="sig-name descname"><span class="pre">identify_habit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'plot'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'time'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fill_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('#E5E5E5',</span> <span class="pre">'#0078D4')</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/identify_habit.html#identify_habit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.identify_habit.identify_habit" title="Link to this definition">¶</a></dt>
<dd><section id="id44">
<h4>Name<a class="headerlink" href="#id44" title="Link to this heading">¶</a></h4>
<p>identify_habit</p>
</section>
<section id="id45">
<h4>Description<a class="headerlink" href="#id45" title="Link to this heading">¶</a></h4>
<p>Identify habitual behavior over a given interval of time. This function analyzes
a dataset to determine whether a habit exists based on a specified metric and
thresholds. It can return data, plots, or summary statistics depending on the
<cite>return_type</cite> argument.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>A dataset containing the data to analyze. Must include ‘PersonId’, ‘MetricDate’,
and the metric column.</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
<dt class="field-odd">param metric<span class="colon">:</span></dt>
<dd class="field-odd"><p>Column name of the metric to analyze.</p>
</dd>
<dt class="field-even">type metric<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param threshold<span class="colon">:</span></dt>
<dd class="field-odd"><p>Minimum value for a week to be considered a qualifying count. Default is 1.</p>
</dd>
<dt class="field-even">type threshold<span class="colon">:</span></dt>
<dd class="field-even"><p>int, optional</p>
</dd>
<dt class="field-odd">param width<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of qualifying counts required for a habit.</p>
</dd>
<dt class="field-even">type width<span class="colon">:</span></dt>
<dd class="field-even"><p>int, optional</p>
</dd>
<dt class="field-odd">param max_window<span class="colon">:</span></dt>
<dd class="field-odd"><p>Maximum number of periods to consider for a habit.</p>
</dd>
<dt class="field-even">type max_window<span class="colon">:</span></dt>
<dd class="field-even"><p>int, optional</p>
</dd>
<dt class="field-odd">param hrvar<span class="colon">:</span></dt>
<dd class="field-odd"><p>Column name for grouping (e.g., department or team). Default is None.</p>
</dd>
<dt class="field-even">type hrvar<span class="colon">:</span></dt>
<dd class="field-even"><p>str, optional</p>
</dd>
<dt class="field-odd">param return_type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Type of output to return. Must be one of the following:
- “data”: Returns a DataFrame with habit classification.
- “plot”: Returns a plot of habitual behavior.
- “summary”: Returns summary statistics.
Default is “plot”.</p>
</dd>
<dt class="field-even">type return_type<span class="colon">:</span></dt>
<dd class="field-even"><p>str, optional</p>
</dd>
<dt class="field-odd">param plot_mode<span class="colon">:</span></dt>
<dd class="field-odd"><p>Type of plot to generate if <cite>return_type</cite> is “plot”. Must be one of the following:
- “time”: Time series plot of habitual behavior.
- “boxplot”: Boxplot of habitual behavior by group.
Default is “time”.</p>
</dd>
<dt class="field-even">type plot_mode<span class="colon">:</span></dt>
<dd class="field-even"><p>str, optional</p>
</dd>
<dt class="field-odd">param figsize<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>figsize</cite> parameter is an optional tuple that specifies the size of the figure for the boxplot visualization. It should be in the format <cite>(width, height)</cite>, where <cite>width</cite> and <cite>height</cite> are in inches. If not provided, a default size of (8, 6) will be used.</p>
</dd>
<dt class="field-even">type figsize<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple, optional</p>
</dd>
<dt class="field-odd">param fill_col<span class="colon">:</span></dt>
<dd class="field-odd"><p>Colors for the plot. Default is (“#E5E5E5”, “#0078D4”).</p>
</dd>
<dt class="field-even">type fill_col<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple, optional</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>Depending on the value of <cite>return_type</cite>, the function returns</p></li>
<li><p><strong>- pandas.DataFrame</strong> (If <cite>return_type</cite> is “data”.)</p></li>
<li><p><strong>- matplotlib plot</strong> (If <cite>return_type</cite> is “plot”.)</p></li>
<li><p><strong>- dict</strong> (Summary statistics if <cite>return_type</cite> is “summary”.)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pq_data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">load_pq_data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">identify_habit</span><span class="p">(</span><span class="n">pq_data</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;Multitasking_hours&#39;</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">max_window</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">return_type</span><span class="o">=</span><span class="s2">&quot;data&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">identify_habit</span><span class="p">(</span><span class="n">pq_data</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;Multitasking_hours&#39;</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">max_window</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">return_type</span><span class="o">=</span><span class="s2">&quot;plot&quot;</span><span class="p">,</span> <span class="n">plot_mode</span><span class="o">=</span><span class="s2">&quot;time&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">identify_habit</span><span class="p">(</span><span class="n">pq_data</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;Multitasking_hours&#39;</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">9</span><span class="p">,</span> <span class="n">max_window</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">return_type</span><span class="o">=</span><span class="s2">&quot;summary&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
<section id="module-vivainsights.identify_usage_segments">
<span id="vivainsights-identify-usage-segments-module"></span><h3>vivainsights.identify_usage_segments module<a class="headerlink" href="#module-vivainsights.identify_usage_segments" title="Link to this heading">¶</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.identify_usage_segments.identify_usage_segments">
<span class="sig-prename descclassname"><span class="pre">vivainsights.identify_usage_segments.</span></span><span class="sig-name descname"><span class="pre">identify_usage_segments</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_str</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'12w'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'data'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">width</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_window</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">power_thres</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/identify_usage_segments.html#identify_usage_segments"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.identify_usage_segments.identify_usage_segments" title="Link to this definition">¶</a></dt>
<dd><p>Identify usage segments based on a metric.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas.DataFrame</em>) – A dataset containing the metric to be classified. Must include ‘PersonId’ and ‘MetricDate’ columns.</p></li>
<li><p><strong>metric</strong> (<em>str</em><em>, </em><em>optional</em>) – Name of the metric column to classify.</p></li>
<li><p><strong>metric_str</strong> (<em>list</em><em> of </em><em>str</em><em>, </em><em>optional</em>) – List of metric columns to aggregate for classification.</p></li>
<li><p><strong>version</strong> (<em>str</em><em>, </em><em>optional</em>) – Version of classification: “12w” (12-week rolling average), “4w” (4-week rolling average), or None for custom parameters. Default is “12w”.</p></li>
<li><p><strong>figsize</strong> (<em>tuple</em><em>, </em><em>optional</em>) – The <cite>figsize</cite> parameter is an optional tuple that specifies the size of the figure for the boxplot visualization. It should be in the format <cite>(width, height)</cite>, where <cite>width</cite> and <cite>height</cite> are in inches. If not provided, a default size of (8, 6) will be used.</p></li>
<li><p><strong>return_type</strong> (<em>str</em><em>, </em><em>optional</em>) – What to return: “data” (default), “plot”, or “table”.</p></li>
<li><p><strong>threshold</strong> (<em>int</em><em>, </em><em>optional</em>) – Threshold for habit identification. Required when version=None.</p></li>
<li><p><strong>width</strong> (<em>int</em><em>, </em><em>optional</em>) – Width parameter for habit identification. Required when version=None.</p></li>
<li><p><strong>max_window</strong> (<em>int</em><em>, </em><em>optional</em>) – Maximum window for habit identification. Required when version=None.</p></li>
<li><p><strong>power_thres</strong> (<em>float</em><em>, </em><em>optional</em>) – Power user threshold for usage segment classification. Required when version=None.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Depending on <cite>return_type</cite>, returns a DataFrame with usage segments, a plot visualizing the segments over time, or a summary table.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>pandas.DataFrame or matplotlib.figure.Figure</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pq_data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">load_pq_data</span><span class="p">()</span>
</pre></div>
</div>
<p># Example usage with a single metric column
&gt;&gt;&gt; vi.identify_usage_segments(data=pq_data, metric=”Emails_sent”, version=”12w”, return_type=”data”)</p>
<p># Example usage with multiple metric columns
&gt;&gt;&gt; result = vi.identify_usage_segments(
&gt;&gt;&gt;     data=pq_data,
&gt;&gt;&gt;     metric_str=[
&gt;&gt;&gt;         “Copilot_actions_taken_in_Teams”,
&gt;&gt;&gt;         “Copilot_actions_taken_in_Outlook”,
&gt;&gt;&gt;         “Copilot_actions_taken_in_Excel”,
&gt;&gt;&gt;         “Copilot_actions_taken_in_Word”,
&gt;&gt;&gt;         “Copilot_actions_taken_in_Powerpoint”
&gt;&gt;&gt;     ],
&gt;&gt;&gt;     version=”4w”,
&gt;&gt;&gt;     return_type=”plot”
&gt;&gt;&gt; )
&gt;&gt;&gt; result.show()</p>
<p># Example usage with custom parameters
&gt;&gt;&gt; result = vi.identify_usage_segments(
&gt;&gt;&gt;     data=pq_data,
&gt;&gt;&gt;     metric=”Emails_sent”,
&gt;&gt;&gt;     version=None,
&gt;&gt;&gt;     threshold=2,
&gt;&gt;&gt;     width=5,
&gt;&gt;&gt;     max_window=8,
&gt;&gt;&gt;     power_thres=20,
&gt;&gt;&gt;     return_type=”table”
&gt;&gt;&gt; )</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.identify_usage_segments.plot_ts_us">
<span class="sig-prename descclassname"><span class="pre">vivainsights.identify_usage_segments.</span></span><span class="sig-name descname"><span class="pre">plot_ts_us</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cus</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">caption</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/identify_usage_segments.html#plot_ts_us"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.identify_usage_segments.plot_ts_us" title="Link to this definition">¶</a></dt>
<dd><p>Plot usage segments over time.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data</strong> (<em>pandas.DataFrame</em>) – A dataset containing the usage segments and ‘MetricDate’ column.</p></li>
<li><p><strong>cus</strong> (<em>str</em>) – Column name containing the usage segment classifications.</p></li>
<li><p><strong>caption</strong> (<em>str</em>) – Caption for the plot.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A stacked bar plot of usage segments over time.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>matplotlib.figure.Figure</p>
</dd>
</dl>
</dd></dl>

</section>
</section>
<section id="data-quality-anomaly-detection">
<h2>Data Quality &amp; Anomaly Detection<a class="headerlink" href="#data-quality-anomaly-detection" title="Link to this heading">¶</a></h2>
<section id="module-vivainsights.identify_outlier">
<span id="vivainsights-identify-outlier-module"></span><h3>vivainsights.identify_outlier module<a class="headerlink" href="#module-vivainsights.identify_outlier" title="Link to this heading">¶</a></h3>
<p>This function takes in a selected metric and uses the z-score (number of standard deviations) to identify outliers across time. There are applications in this for identifying weeks with abnormally low collaboration activity, e.g. holidays. Time as a grouping variable can be overridden with the <cite>group_var</cite> argument.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.identify_outlier.identify_outlier">
<span class="sig-prename descclassname"><span class="pre">vivainsights.identify_outlier.</span></span><span class="sig-name descname"><span class="pre">identify_outlier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_var</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'MetricDate'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Collaboration_hours'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/identify_outlier.html#identify_outlier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.identify_outlier.identify_outlier" title="Link to this definition">¶</a></dt>
<dd><section id="id46">
<h4>Name<a class="headerlink" href="#id46" title="Link to this heading">¶</a></h4>
<p>identify_outlier</p>
</section>
<section id="id47">
<h4>Description<a class="headerlink" href="#id47" title="Link to this heading">¶</a></h4>
<p>This function takes in a selected metric and uses the
z-score (number of standard deviations) to identify outliers
across time. There are applications in this for identifying
weeks with abnormally low collaboration activity, e.g. holidays.
Time as a grouping variable can be overridden with the <cite>group_var</cite>
argument.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Standard Person Query dataset in the form of a pandas dataframe.</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas dataframe</p>
</dd>
<dt class="field-odd">param group_var<span class="colon">:</span></dt>
<dd class="field-odd"><p>A string with the name of the grouping variable. Default: <cite>MetricDate</cite>.</p>
</dd>
<dt class="field-even">type group_var<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param metric<span class="colon">:</span></dt>
<dd class="field-odd"><p>A string containing the name of the metric (e.g., “Collaboration_hours”)</p>
</dd>
<dt class="field-even">type metric<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>A dataframe with <cite>MetricDate</cite> (if grouping variable is not set),</p></li>
<li><p><em>the metric, and the corresponding z-score.</em></p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pq_data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">load_pq_data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">identify_outlier</span><span class="p">(</span><span class="n">pq_data</span><span class="p">,</span> <span class="n">group_var</span> <span class="o">=</span> <span class="s2">&quot;MetricDate&quot;</span><span class="p">,</span> <span class="n">metric</span> <span class="o">=</span> <span class="s2">&quot;Collaboration_hours&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
<section id="module-vivainsights.identify_inactiveweeks">
<span id="vivainsights-identify-inactiveweeks-module"></span><h3>vivainsights.identify_inactiveweeks module<a class="headerlink" href="#module-vivainsights.identify_inactiveweeks" title="Link to this heading">¶</a></h3>
<p>The function <cite>identify_inactiveweeks</cite> identifies weeks where collaboration hours are more than a
specified number of standard deviations below the mean and returns the result in the specified
format.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.identify_inactiveweeks.identify_inactiveweeks">
<span class="sig-prename descclassname"><span class="pre">vivainsights.identify_inactiveweeks.</span></span><span class="sig-name descname"><span class="pre">identify_inactiveweeks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'text'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/identify_inactiveweeks.html#identify_inactiveweeks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.identify_inactiveweeks.identify_inactiveweeks" title="Link to this definition">¶</a></dt>
<dd><section id="id48">
<h4>Name<a class="headerlink" href="#id48" title="Link to this heading">¶</a></h4>
<p>identify_inactiveweeks</p>
</section>
<section id="id49">
<h4>Description<a class="headerlink" href="#id49" title="Link to this heading">¶</a></h4>
<p>The function <cite>identify_inactiveweeks</cite> identifies weeks where collaboration hours are more than a
specified number of standard deviations below the mean and returns the result in the specified
format.</p>
<dl class="field-list">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>data</cite> parameter is a pandas DataFrame that contains the following columns:</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas dataframe</p>
</dd>
<dt class="field-odd">param sd<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>sd</cite> parameter stands for the number of standard deviations below the mean that is considered as inactive. In this code, it is used to identify weeks where the collaboration hours are more than <cite>sd</cite> standard deviations below the mean, defaults to 2 (optional)</p>
</dd>
<dt class="field-even">type sd<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
<dt class="field-odd">param return_type<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>The <cite>return_type</cite> parameter determines the type of output that the function will return.</dt><dd><p>It can have the following values:, defaults to text (optional)</p>
<ul class="simple">
<li><p>‘text’: Returns a string with the number of inactive weeks.</p></li>
<li><p>‘data_dirty’ or ‘dirty_data’: Returns a Pandas DataFrame with the rows that are inactive.</p></li>
<li><p>‘data_cleaned’ or ‘cleaned_data’: Returns a Pandas DataFrame with the rows that are not inactive.</p></li>
<li><p>‘plot’: Returns a plot showing the number of inactive weeks for each user.</p></li>
<li><p>‘data’: Returns a Pandas DataFrame with the number of inactive weeks for each user.</p></li>
</ul>
</dd>
</dl>
<p>The default value is ‘text’.</p>
</dd>
<dt class="field-even">type return_type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">rtype<span class="colon">:</span></dt>
<dd class="field-odd"><p>The function <cite>identify_inactiveweeks</cite> returns different outputs based on the value of the <cite>return_type</cite> parameter.</p>
</dd>
</dl>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
<section id="module-vivainsights.identify_holidayweeks">
<span id="vivainsights-identify-holidayweeks-module"></span><h3>vivainsights.identify_holidayweeks module<a class="headerlink" href="#module-vivainsights.identify_holidayweeks" title="Link to this heading">¶</a></h3>
<p>This function scans a standard query output for weeks where collaboration
hours is far outside the mean. Returns a list of weeks that appear to be
holiday weeks and optionally an edited dataframe with outliers removed. By
default, missing values are excluded.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.identify_holidayweeks.identify_holidayweeks">
<span class="sig-prename descclassname"><span class="pre">vivainsights.identify_holidayweeks.</span></span><span class="sig-name descname"><span class="pre">identify_holidayweeks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sd</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'text'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/identify_holidayweeks.html#identify_holidayweeks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.identify_holidayweeks.identify_holidayweeks" title="Link to this definition">¶</a></dt>
<dd><p>”
Name
—–
identify_holidayweeks</p>
<section id="id50">
<h4>Description<a class="headerlink" href="#id50" title="Link to this heading">¶</a></h4>
<p>Identify Holiday Weeks based on outliers.
This function scans a standard query output for weeks where collaboration
hours is far outside the mean. Returns a list of weeks that appear to be
holiday weeks and optionally an edited dataframe with outliers removed. By
default, missing values are excluded.</p>
<p>As best practice, run this function prior to any analysis to remove atypical
collaboration weeks from your dataset.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Standard Person Query dataset in the form of a data frame.</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas dataframe</p>
</dd>
<dt class="field-odd">param sd<span class="colon">:</span></dt>
<dd class="field-odd"><p>The standard deviation below the mean for collaboration hours that should
define an outlier week.  Enter a positive number.
Default is 1 standard deviation.</p>
</dd>
<dt class="field-even">type sd<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
<dt class="field-odd">param figsize<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>figsize</cite> parameter is an optional tuple that specifies the size of the figure for the boxplot visualization. It should be in the format <cite>(width, height)</cite>, where <cite>width</cite> and <cite>height</cite> are in inches. If not provided, a default size of (8, 6) will be used.</p>
</dd>
<dt class="field-even">type figsize<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple, optional</p>
</dd>
<dt class="field-odd">param return_type<span class="colon">:</span></dt>
<dd class="field-odd"><p>String specifying what to return. This must be one of the following strings:
- “text” (default)
- “labelled_data” or “dirty_data” or “data_dirty”
- “cleaned_data” or “data_cleaned”
- “holidayweeks_data”
- “plot”</p>
</dd>
<dt class="field-even">type return_type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>A different output is returned depending on the value passed to return_type</em></p></li>
<li><p><strong>text</strong> (<em>str</em>) – A message is printed identifying holiday weeks.</p></li>
<li><p><strong>data_cleaned / cleaned_data</strong> (<em>pandas dataframe</em>) – A dataset with outlier weeks removed is returned.</p></li>
<li><p><strong>data_dirty / dirty_data / labelled_data</strong> (<em>pandas dataframe</em>) – A dataset with only outlier weeks is returned.</p></li>
<li><p><strong>holidayweeks_data</strong> (<em>pandas dataframe</em>) – A dataset with only outlier weeks is returned.</p></li>
<li><p><strong>plot</strong> (<em>matplotlib plot</em>) – A line plot of Collaboration Hours with holiday weeks highlighted.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pq_data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">load_pq_data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">identify_holidayweeks</span><span class="p">(</span><span class="n">pq_data</span><span class="p">,</span> <span class="n">sd</span> <span class="o">=</span> <span class="mf">.75</span><span class="p">,</span> <span class="n">return_type</span> <span class="o">=</span> <span class="s2">&quot;text&quot;</span><span class="p">)</span>
<span class="go">&quot;The weeks where collaboration was 0.75 standard deviations below the mean (18.7) are: `05/22/2022`&quot;</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">identify_holidayweeks</span><span class="p">(</span><span class="n">pq_data</span><span class="p">,</span> <span class="n">sd</span> <span class="o">=</span> <span class="mf">.75</span><span class="p">,</span> <span class="n">return_type</span> <span class="o">=</span> <span class="s2">&quot;plot&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">identify_holidayweeks</span><span class="p">(</span><span class="n">pq_data</span><span class="p">,</span> <span class="n">sd</span> <span class="o">=</span> <span class="mf">.75</span><span class="p">,</span> <span class="n">return_type</span> <span class="o">=</span> <span class="s2">&quot;cleaned_data&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">identify_holidayweeks</span><span class="p">(</span><span class="n">pq_data</span><span class="p">,</span> <span class="n">sd</span> <span class="o">=</span> <span class="mf">.75</span><span class="p">,</span> <span class="n">return_type</span> <span class="o">=</span> <span class="s2">&quot;holidayweeks_data&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
<section id="module-vivainsights.identify_nkw">
<span id="vivainsights-identify-nkw-module"></span><h3>vivainsights.identify_nkw module<a class="headerlink" href="#module-vivainsights.identify_nkw" title="Link to this heading">¶</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.identify_nkw.identify_nkw">
<span class="sig-prename descclassname"><span class="pre">vivainsights.identify_nkw.</span></span><span class="sig-name descname"><span class="pre">identify_nkw</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collab_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'data_summary'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/identify_nkw.html#identify_nkw"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.identify_nkw.identify_nkw" title="Link to this definition">¶</a></dt>
<dd><section id="id51">
<h4>Name<a class="headerlink" href="#id51" title="Link to this heading">¶</a></h4>
<p>identify_nkw</p>
</section>
<section id="id52">
<h4>Description<a class="headerlink" href="#id52" title="Link to this heading">¶</a></h4>
<p>Identifies non-knowledge workers based on their average collaboration hours.
This function groups the input data by ‘PersonId’ and ‘Organization’, calculates the mean collaboration hours for each group, and flags those with average collaboration hours below a specified threshold as non-knowledge workers. It then calculates the proportion of non-knowledge workers in each organization.</p>
<dl class="field-list simple">
<dt class="field-odd">param data (pd.DataFrame)<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type data (pd.DataFrame)<span class="colon">:</span></dt>
<dd class="field-even"><p>The input data. Must contain the columns ‘PersonId’, ‘Organization’, and ‘Collaboration_hours’.</p>
</dd>
<dt class="field-odd">param collab_threshold (int<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type collab_threshold (int<span class="colon">:</span></dt>
<dd class="field-even"><p>The threshold for average collaboration hours below which a person is considered a non-knowledge worker. Defaults to 5.</p>
</dd>
<dt class="field-odd">param optional)<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type optional)<span class="colon">:</span></dt>
<dd class="field-even"><p>The threshold for average collaboration hours below which a person is considered a non-knowledge worker. Defaults to 5.</p>
</dd>
<dt class="field-odd">param return_type (str<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type return_type (str<span class="colon">:</span></dt>
<dd class="field-even"><p>Specifies the type of data to return.</p>
</dd>
<dt class="field-odd">param optional)<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type optional)<span class="colon">:</span></dt>
<dd class="field-even"><p>Specifies the type of data to return.</p>
</dd>
<dt class="field-odd">param - If ‘data_with_flag’<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">param returns the input data with an additional ‘flag_nkw’ column indicating whether each person is a non-knowledge worker.<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
<dt class="field-odd">param - If ‘data_summary’<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">param returns a summary of the number and proportion of non-knowledge workers in each organization.<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
<dt class="field-odd">param - If ‘text’<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">param returns a text summary of the number and proportion of non-knowledge workers in each organization.<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
<dt class="field-odd">param Defaults to ‘data_summary’.<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">returns<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>pd.DataFrame</strong></p>
</dd>
<dt class="field-odd">rtype<span class="colon">:</span></dt>
<dd class="field-odd"><p>The output data, as specified by the ‘return_type’ parameter.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">identify_nkw</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="n">data</span> <span class="o">=</span> <span class="n">pq_data</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="n">collab_threshold</span><span class="o">=</span><span class="mi">15</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>       <span class="n">return_type</span> <span class="o">=</span> <span class="s1">&#39;text&#39;</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
</section>
<section id="time-date-analysis">
<h2>Time &amp; Date Analysis<a class="headerlink" href="#time-date-analysis" title="Link to this heading">¶</a></h2>
<section id="module-vivainsights.identify_daterange">
<span id="vivainsights-identify-daterange-module"></span><h3>vivainsights.identify_daterange module<a class="headerlink" href="#module-vivainsights.identify_daterange" title="Link to this heading">¶</a></h3>
<p>Takes a vector of dates and identify whether the frequency is ‘daily’, ‘weekly’, or ‘monthly’.
The primary use case for this function is to provide an accurate description of the query type
used and for raising errors should a wrong date grouping be used in the data input.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.identify_daterange.identify_datefreq">
<span class="sig-prename descclassname"><span class="pre">vivainsights.identify_daterange.</span></span><span class="sig-name descname"><span class="pre">identify_datefreq</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/identify_daterange.html#identify_datefreq"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.identify_daterange.identify_datefreq" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-vivainsights.extract_date_range">
<span id="vivainsights-extract-date-range-module"></span><h3>vivainsights.extract_date_range module<a class="headerlink" href="#module-vivainsights.extract_date_range" title="Link to this heading">¶</a></h3>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.extract_date_range.extract_date_range">
<span class="sig-prename descclassname"><span class="pre">vivainsights.extract_date_range.</span></span><span class="sig-name descname"><span class="pre">extract_date_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'table'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/extract_date_range.html#extract_date_range"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.extract_date_range.extract_date_range" title="Link to this definition">¶</a></dt>
<dd><section id="id53">
<h4>Name<a class="headerlink" href="#id53" title="Link to this heading">¶</a></h4>
<p>extract_date_range</p>
</section>
<section id="id54">
<h4>Description<a class="headerlink" href="#id54" title="Link to this heading">¶</a></h4>
<p>The function <cite>extract_date_range</cite> extracts the date range from a dataframe and returns it either as
a table or as a text string.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>data</cite> parameter is a pandas DataFrame that contains the data from which you want to extract the date range. It should have at least one column that represents the date</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas dataframe</p>
</dd>
<dt class="field-odd">param return_type<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>return_type</cite> parameter is a string that specifies the format in which the date range should be returned. It has two possible values:, defaults to table</p>
</dd>
<dt class="field-even">type return_type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>The function <cite>extract_date_range</cite> returns either a pandas DataFrame or a string, depending</p></li>
<li><p>on the value of the <cite>return_type</cite> parameter.</p></li>
</ul>
</dd>
</dl>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
</section>
</section>
<section id="network-analysis">
<h1>🌐 Network Analysis<a class="headerlink" href="#network-analysis" title="Link to this heading">¶</a></h1>
<section id="network-visualization-analysis">
<h2>Network Visualization &amp; Analysis<a class="headerlink" href="#network-visualization-analysis" title="Link to this heading">¶</a></h2>
<section id="module-vivainsights.network_g2g">
<span id="vivainsights-network-g2g-module"></span><h3>vivainsights.network_g2g module<a class="headerlink" href="#module-vivainsights.network_g2g" title="Link to this heading">¶</a></h3>
<p>This module returns a network plot given a data frame containing a group-to-group query.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.network_g2g.network_g2g">
<span class="sig-prename descclassname"><span class="pre">vivainsights.network_g2g.</span></span><span class="sig-name descname"><span class="pre">network_g2g</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secondary</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Group_collaboration_time_invested'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">algorithm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'fr'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_colour</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'lightblue'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exc_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">org_count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subtitle</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Collaboration</span> <span class="pre">Across</span> <span class="pre">Organizations'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'plot'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/network_g2g.html#network_g2g"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.network_g2g.network_g2g" title="Link to this definition">¶</a></dt>
<dd><section id="id55">
<h4>Name<a class="headerlink" href="#id55" title="Link to this heading">¶</a></h4>
<p>network_g2g</p>
</section>
<section id="id56">
<h4>Description<a class="headerlink" href="#id56" title="Link to this heading">¶</a></h4>
<p>This function returns a network plot given a data frame containing a group-to-group query.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>Data frame containing a group-to-group query.</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>data frame</p>
</dd>
<dt class="field-odd">param primary<span class="colon">:</span></dt>
<dd class="field-odd"><p>String containing the variable name for the Primary Collaborator column.</p>
</dd>
<dt class="field-even">type primary<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param secondary<span class="colon">:</span></dt>
<dd class="field-odd"><p>String containing the variable name for the SecondaryCollaborator column.</p>
</dd>
<dt class="field-even">type secondary<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param metric<span class="colon">:</span></dt>
<dd class="field-odd"><p>String containing the variable name for metric. Defaults to <cite>Meeting_Count</cite>.</p>
</dd>
<dt class="field-even">type metric<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param algorithm<span class="colon">:</span></dt>
<dd class="field-odd"><p>String to specify the node placement algorithm to be used.
- Defaults to <cite>“fr”</cite> for the force-directed algorithm of Fruchterman and Reingold.
- See &lt;<a class="reference external" href="https://rdrr.io/cran/ggraph/man/layout_tbl_graph_igraph.html">https://rdrr.io/cran/ggraph/man/layout_tbl_graph_igraph.html</a>&gt; for a full list of options.</p>
</dd>
<dt class="field-even">type algorithm<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param node_colour<span class="colon">:</span></dt>
<dd class="field-odd"><p>String or named vector to specify the colour to be used for displaying nodes.
- Defaults to <cite>“lightblue”</cite>.
- If <cite>“vary”</cite> is supplied, a different colour is shown for each node at random.
- If a named dictionary is supplied, the names must match the values of the variable provided for the <cite>primary</cite> and <cite>secondary</cite> columns.
- See example section for details.</p>
</dd>
<dt class="field-even">type node_colour<span class="colon">:</span></dt>
<dd class="field-even"><p>str or dictionary</p>
</dd>
<dt class="field-odd">param exc_threshold<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>Defaults to 0.1, which means that the plot will only display collaboration above 10% of a node’s total collaboration.</p></li>
<li><p>This argument has no impact on <cite>“data”</cite> or <cite>“table”</cite> return.</p></li>
</ul>
</dd>
<dt class="field-even">type exc_threshold<span class="colon">:</span></dt>
<dd class="field-even"><p>Numeric value between 0 and 1 specifying the exclusion threshold to apply.</p>
</dd>
<dt class="field-odd">param org_count<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional data frame to provide the size of each organizationin the <cite>secondary</cite> attribute.
- The data frame should contain only two columns:
- Name of the <cite>secondary</cite> attribute excluding any prefixes, e.g. <cite>“Organization”</cite>.
- Must be of character or factor type. <cite>“n”</cite>. Must be of numeric type.
- Defaults to <cite>None</cite>, where node sizes will be fixed.</p>
</dd>
<dt class="field-even">type org_count<span class="colon">:</span></dt>
<dd class="field-even"><p>optional</p>
</dd>
<dt class="field-odd">param node_scale<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type node_scale<span class="colon">:</span></dt>
<dd class="field-even"><p>Numeric value controlling the size of the nodes. 1 keeps the size of the nodes as is.</p>
</dd>
<dt class="field-odd">param edge_scale<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type edge_scale<span class="colon">:</span></dt>
<dd class="field-even"><p>Numeric value controlling the width of the edges. 1 keeps the size of the edges as is. Defaults to 10.</p>
</dd>
<dt class="field-odd">param subtitle<span class="colon">:</span></dt>
<dd class="field-odd"><p>String to override default plot subtitle.</p>
</dd>
<dt class="field-even">type subtitle<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param figsize<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>figsize</cite> parameter is an optional tuple that specifies the size of the figure for the boxplot visualization. It should be in the format <cite>(width, height)</cite>, where <cite>width</cite> and <cite>height</cite> are in inches. If not provided, a default size of (8, 6) will be used.</p>
</dd>
<dt class="field-even">type figsize<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple, optional</p>
</dd>
<dt class="field-odd">param return_type<span class="colon">:</span></dt>
<dd class="field-odd"><p>String specifying what to return. This must be one of the following strings:
- <cite>“plot”</cite>
- <cite>“table”</cite>
- <cite>“network”</cite>
- <cite>“data”</cite>
- Defaults to <cite>“plot”</cite>.</p>
</dd>
<dt class="field-even">type return_type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>A different output is returned depending on the value passed to the <cite>return</cite> argument</p></li>
<li><p><strong>- `”plot”`</strong> (<em>‘ggplot’ object. A group-to-group network plot.</em>)</p></li>
<li><p><strong>- `”table”`</strong> (<em>data frame. An interactive matrix of the network.</em>)</p></li>
<li><p><strong>- `”network`</strong> (<em>‘igraph’ object used for creating the network plot.</em>)</p></li>
<li><p><strong>- `”data”`</strong> (<em>data frame. A long table of the underlying data.</em>)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">network_g2g</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">load_g2g_data</span><span class="p">(),</span> <span class="n">metric</span> <span class="o">=</span> <span class="s2">&quot;Group_meeting_count&quot;</span><span class="p">)</span>
<span class="go"># Return a network visual</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">network_g2g</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">load_g2g_data</span><span class="p">(),</span> <span class="n">return_type</span> <span class="o">=</span> <span class="s2">&quot;table&quot;</span><span class="p">)</span>
<span class="go"># Return the interaction matrix</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">network_g2g</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">load_g2g_data</span><span class="p">(),</span> <span class="n">exc_threshold</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span>
<span class="go"># Return a network visual with no exclusion threshold</span>
</pre></div>
</div>
</section>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.network_g2g.setColor">
<span class="sig-prename descclassname"><span class="pre">vivainsights.network_g2g.</span></span><span class="sig-name descname"><span class="pre">setColor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node_colour</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">org</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/network_g2g.html#setColor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.network_g2g.setColor" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-vivainsights.network_p2p">
<span id="vivainsights-network-p2p-module"></span><h3>vivainsights.network_p2p module<a class="headerlink" href="#module-vivainsights.network_p2p" title="Link to this heading">¶</a></h3>
<p>This module performs network analysis with a person-to-person query</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.network_p2p.network_p2p">
<span class="sig-prename descclassname"><span class="pre">vivainsights.network_p2p.</span></span><span class="sig-name descname"><span class="pre">network_p2p</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Organization'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'plot'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">centrality</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">community</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comm_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">layout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mds'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'igraph'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bg_fill</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#FFFFFF'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">font_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'grey20'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend_pos</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'best'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">palette</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'rainbow'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_alpha</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_col</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#777777'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_sizes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[1,</span> <span class="pre">20]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">node_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">legend_ncols</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/network_p2p.html#network_p2p"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.network_p2p.network_p2p" title="Link to this definition">¶</a></dt>
<dd><section id="id57">
<h4>Name<a class="headerlink" href="#id57" title="Link to this heading">¶</a></h4>
<p>network_p2p</p>
</section>
<section id="id58">
<h4>Description<a class="headerlink" href="#id58" title="Link to this heading">¶</a></h4>
<p>This function returns a network plot given a data frame containing a person-to-person query.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>Data frame containing a person-to-person query.</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>dataframe</p>
</dd>
<dt class="field-odd">param hrvar<span class="colon">:</span></dt>
<dd class="field-odd"><p>String containing the label for the HR attribute.</p>
</dd>
<dt class="field-even">type hrvar<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param return_type<span class="colon">:</span></dt>
<dd class="field-odd"><p>A different output is returned depending on the value passed to the <cite>return_type</cite> argument:
- <cite>‘plot’</cite> (default)
- <cite>‘plot-pdf’</cite>
- <cite>‘sankey’</cite>
- <cite>‘table’</cite>
- <cite>‘data’</cite>
- <cite>‘network’</cite></p>
</dd>
<dt class="field-even">type return_type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param centrality<span class="colon">:</span></dt>
<dd class="field-odd"><p>string to determines which centrality measure is used to scale the size of the nodes. All centrality measures are automatically calculated when it is set to one of the below values, and reflected in the <cite>‘network’</cite> and <cite>‘data’</cite> outputs.
Measures include:
- <cite>betweenness</cite>
- <cite>closeness</cite>
- <cite>degree</cite>
- <cite>eigenvector</cite>
- <cite>pagerank</cite>
When <cite>centrality</cite> is set to None, no centrality is calculated in the outputs and all the nodes would have the same size.</p>
</dd>
<dt class="field-even">type centrality<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param community<span class="colon">:</span></dt>
<dd class="field-odd"><p>String determining which community detection algorithms to apply. Valid values include:
- <cite>None</cite> (default): compute analysis or visuals without computing communities.
- <cite>“multilevel”</cite> (a version of louvain)
- <cite>“leiden”</cite>
- <cite>“edge_betweenness”</cite>
- <cite>“fastgreedy”</cite>
- <cite>“infomap”</cite>
- <cite>“label_propagation”</cite>
- <cite>“leading_eigenvector”</cite>
- <cite>“optimal_modularity”</cite>
- <cite>“spinglass”</cite>
- <cite>“walk_trap”</cite></p>
</dd>
<dt class="field-even">type community<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param weight<span class="colon">:</span></dt>
<dd class="field-odd"><p>String to specify which column to use as weights for the network. To create a graph without weights, supply <cite>None</cite> to this argument.</p>
</dd>
<dt class="field-even">type weight<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param comm_args<span class="colon">:</span></dt>
<dd class="field-odd"><p>list containing the arguments to be passed through to igraph’s clustering algorithms. Arguments must be named. See examples section on how to supply arguments in a named list.</p>
</dd>
<dt class="field-even">type comm_args<span class="colon">:</span></dt>
<dd class="field-even"><p>list</p>
</dd>
<dt class="field-odd">param layout<span class="colon">:</span></dt>
<dd class="field-odd"><p>String to specify the node placement algorithm to be used. Defaults to <cite>“mds”</cite> for the deterministic multi-dimensional scaling of nodes.
See &lt;<a class="reference external" href="https://rdrr.io/cran/ggraph/man/layout_tbl_graph_igraph.html">https://rdrr.io/cran/ggraph/man/layout_tbl_graph_igraph.html</a>&gt; for a full  list of options.</p>
</dd>
<dt class="field-even">type layout<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param path<span class="colon">:</span></dt>
<dd class="field-odd"><p>File path for saving the PDF output. Defaults to a timestamped path based on current parameters.</p>
</dd>
<dt class="field-even">type path<span class="colon">:</span></dt>
<dd class="field-even"><p>str (file path)</p>
</dd>
<dt class="field-odd">param bg_fill<span class="colon">:</span></dt>
<dd class="field-odd"><p>String to specify background fill color.</p>
</dd>
<dt class="field-even">type bg_fill<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param font_col<span class="colon">:</span></dt>
<dd class="field-odd"><p>String to specify font color.</p>
</dd>
<dt class="field-even">type font_col<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param legend_pos<span class="colon">:</span></dt>
<dd class="field-odd"><p>String to specify position of legend. Valid values include:
String to specify position of legend. Valid values include:
- <cite>“best”</cite>
- <cite>“upper right”</cite>
- <cite>“upper left”</cite>
- <cite>“lower left”</cite>
- <cite>“right”</cite>
-  <cite>“center left”</cite>
- <cite>“center right”</cite>
- <cite>“lower center”</cite>
- <cite>“upper center”</cite>
- <cite>“center”</cite></p>
</dd>
<dt class="field-even">type legend_pos<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param palette<span class="colon">:</span></dt>
<dd class="field-odd"><p>String specifying the function to generate a color palette with a single argument <cite>n</cite>. Uses <cite>“rainbow”</cite> by default.</p>
</dd>
<dt class="field-even">type palette<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param node_alpha<span class="colon">:</span></dt>
<dd class="field-odd"><p>A numeric value between 0 and 1 to specify the transparency of the nodes. Defaults to 0.7.</p>
</dd>
<dt class="field-even">type node_alpha<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
<p>:param : A numeric value between 0 and 1 to specify the transparency of the edges (only for ‘ggraph’ mode). Defaults to 1.
:type : param edge_alpha : int
:param edge_col:
:type edge_col: String to specify edge link color.
:param node_sizes: Numeric vector of length two to specify the range of node sizes to rescale to, when <cite>centrality</cite> is set to a non-null value.
:type node_sizes: int
:param node_scale: A numeric value to multiply or divide the size of the nodes.</p>
<blockquote>
<div><p>This is applied to the ‘node_size’ attribute in the graph to increase or decrease the size of the nodes.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">type node_scale<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
<dt class="field-even">param seed<span class="colon">:</span></dt>
<dd class="field-even"><p>Seed for the random number generator passed to either <cite>set.seed()</cite> when the louvain or leiden community detection algorithm is used, to ensure consistency. Only applicable when <cite>community</cite> is set to one of the valid non-null values.</p>
</dd>
<dt class="field-odd">type seed<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
<dt class="field-even">param legend_ncols<span class="colon">:</span></dt>
<dd class="field-even"><p>Value is either 0 or 1, Parameter to change the orientation horizontal to vertical of legend in the plot.</p>
</dd>
<dt class="field-odd">type legend_ncols<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
<dt class="field-even">param figsize<span class="colon">:</span></dt>
<dd class="field-even"><p>The <cite>figsize</cite> parameter is an optional tuple that specifies the size of the figure for the boxplot visualization. It should be in the format <cite>(width, height)</cite>, where <cite>width</cite> and <cite>height</cite> are in inches. If not provided, a default size of (8, 6) will be used.</p>
</dd>
<dt class="field-odd">type figsize<span class="colon">:</span></dt>
<dd class="field-odd"><p>tuple</p>
</dd>
<dt class="field-even">returns<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>A different output is returned depending on the value passed to the <cite>return_type</cite> argument</p></li>
<li><p><strong>- `’plot’`</strong> (<em>return a network plot, interactively within R.</em>)</p></li>
<li><p><strong>- `’plot-pdf’`</strong> (save a network plot as PDF. This option is recommended when the graph is large, which make take a long time to run if <cite>return_type = ‘plot’</cite> is selected. Use this together with <cite>path</cite> to control the save location.)</p></li>
<li><p><strong>- `’sankey’`</strong> (return a sankey plot combining communities and HR attribute. This is only valid if a community detection method is selected at community`.)</p></li>
<li><p><strong>- `’table’`</strong> (return a vertex summary table with counts in communities and HR attribute. When <cite>centrality</cite> is non-NULL, the average centrality values are calculated per group.)</p></li>
<li><p><strong>- `’data’`</strong> (<em>return a vertex data file that matches vertices with communities and HR attributes.</em>)</p></li>
<li><p><strong>- `’network’`</strong> (<em>return ‘igraph’ object.</em>)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample_data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">p2p_data_sim</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Return a network visual</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">network_p2p</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">sample_data</span><span class="p">,</span> <span class="n">return_type</span> <span class="o">=</span> <span class="s2">&quot;plot&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span> <span class="c1"># Return the vertex table with counts in communities and HR attribute</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Resolution is set to a low value to yield fewer communities</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">network_p2p</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">sample_data</span><span class="p">,</span> <span class="n">community</span> <span class="o">=</span> <span class="s2">&quot;leiden&quot;</span><span class="p">,</span> <span class="n">comm_args</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;resolution&quot;</span><span class="p">:</span> <span class="mf">0.01</span><span class="p">},</span> <span class="n">return_type</span> <span class="o">=</span> <span class="s2">&quot;table&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Return the vertex table with centrality calculations</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">network_p2p</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">sample_data</span><span class="p">,</span> <span class="n">centrality</span> <span class="o">=</span> <span class="s2">&quot;betweenness&quot;</span><span class="p">,</span> <span class="n">return_type</span> <span class="o">=</span> <span class="s2">&quot;table&quot;</span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">network_p2p</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">data</span> <span class="o">=</span> <span class="n">sample_data</span><span class="p">,</span> <span class="c1"># or whatever your query is stored</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">node_scale</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span> <span class="c1"># adjust this parameter to make nodes bigger/smaller</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">return_type</span> <span class="o">=</span> <span class="s2">&quot;plot&quot;</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Return the sankey output based on centrality and community</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">network_p2p</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">data</span> <span class="o">=</span> <span class="n">sample_data</span><span class="p">,</span> <span class="c1"># or whatever your query is stored</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">return_type</span> <span class="o">=</span> <span class="s2">&quot;sankey&quot;</span><span class="p">,</span> <span class="c1"># another return type for visualization</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">centrality</span> <span class="o">=</span> <span class="s2">&quot;betweenness&quot;</span><span class="p">,</span> <span class="c1"># centrality can be set as per requirement</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">community</span> <span class="o">=</span> <span class="s2">&quot;leiden&quot;</span> <span class="c1"># Adjust community</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Return the plot output based on different color scheme, legend orientation and position, font color change</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">network_p2p</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">data</span> <span class="o">=</span> <span class="n">sample_data</span><span class="p">,</span> <span class="c1"># or whatever your query is stored</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">return_type</span> <span class="o">=</span> <span class="s2">&quot;plot&quot;</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">font_col</span> <span class="o">=</span> <span class="s2">&quot;grey20&quot;</span><span class="p">,</span> <span class="c1"># Color change option for fonts in chart</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">legend_pos</span> <span class="o">=</span> <span class="s2">&quot;upper left&quot;</span><span class="p">,</span> <span class="c1"># Adjust the legend position using this parameter</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="n">legend_ncols</span> <span class="o">=</span> <span class="mi">1</span> <span class="c1"># Adjust this parameter to 0 or 1 to change legend orientation from vertical to horizontal</span>
<span class="gp">&gt;&gt;&gt; </span>   <span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
<section id="module-vivainsights.network_summary">
<span id="vivainsights-network-summary-module"></span><h3>vivainsights.network_summary module<a class="headerlink" href="#module-vivainsights.network_summary" title="Link to this heading">¶</a></h3>
<p>This module summarises node centrality statistics with an igraph object</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.network_summary.network_summary">
<span class="sig-prename descclassname"><span class="pre">vivainsights.network_summary.</span></span><span class="sig-name descname"><span class="pre">network_summary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'table'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/network_summary.html#network_summary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.network_summary.network_summary" title="Link to this definition">¶</a></dt>
<dd><section id="id59">
<h4>Name<a class="headerlink" href="#id59" title="Link to this heading">¶</a></h4>
<p>network_summary</p>
</section>
<section id="id60">
<h4>Description<a class="headerlink" href="#id60" title="Link to this heading">¶</a></h4>
<p>This function summarises node centrality statistics with an igraph object.</p>
<dl class="field-list simple">
<dt class="field-odd">param graph<span class="colon">:</span></dt>
<dd class="field-odd"><p>‘igraph’ object that can be returned from <cite>network_g2g()</cite> or <cite>network_p2p()</cite> when the <cite>return</cite> argument is set to <cite>“network”</cite>.</p>
</dd>
<dt class="field-even">type graph<span class="colon">:</span></dt>
<dd class="field-even"><p>igraph object</p>
</dd>
<dt class="field-odd">param hrvar<span class="colon">:</span></dt>
<dd class="field-odd"><p>String containing the name of the HR Variable by which to split metrics. Defaults to <cite>None</cite>.</p>
</dd>
<dt class="field-even">type hrvar<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param return_type<span class="colon">:</span></dt>
<dd class="field-odd"><p>String specifying what output to return. Valid inputs include:
- <cite>“table”</cite>
- <cite>“network”</cite>
- <cite>“plot”</cite></p>
</dd>
<dt class="field-even">type return_type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>By default, a data frame containing centrality statistics. Available statistics include</em></p></li>
<li><p><strong>- `betweenness`</strong> (<em>number of shortest paths going through a node.</em>)</p></li>
<li><p><strong>- `closeness`</strong> (<em>number of steps required to access every other node from a given node.</em>)</p></li>
<li><p><strong>- `degree`</strong> (<em>number of connections linked to a node.</em>)</p></li>
<li><p><strong>- `eigenvector`</strong> (<em>a measure of the influence a node has on a network.</em>)</p></li>
<li><p><strong>- `pagerank`</strong> (<em>calculates the PageRank for the specified vertices.</em>)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Assign igraph object to `graph`</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">graph</span> <span class="o">=</span> <span class="n">network_g2g</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">load_g2g_data</span><span class="p">(),</span> <span class="n">return_type</span> <span class="o">=</span> <span class="s2">&quot;network&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">network_summary</span><span class="p">(</span><span class="n">graph</span><span class="p">,</span> <span class="n">hrvar</span> <span class="o">=</span> <span class="s2">&quot;Organization&quot;</span><span class="p">,</span> <span class="n">return_type</span> <span class="o">=</span> <span class="s2">&quot;table&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
</dd></dl>

</section>
</section>
</section>
<section id="data-management">
<h1>📁 Data Management<a class="headerlink" href="#data-management" title="Link to this heading">¶</a></h1>
<section id="sample-data-sources">
<h2>Sample Data Sources<a class="headerlink" href="#sample-data-sources" title="Link to this heading">¶</a></h2>
<section id="module-vivainsights.pq_data">
<span id="vivainsights-pq-data-module"></span><h3>vivainsights.pq_data module<a class="headerlink" href="#module-vivainsights.pq_data" title="Link to this heading">¶</a></h3>
<p>This module returns a data frame containing a person query.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.pq_data.load_pq_data">
<span class="sig-prename descclassname"><span class="pre">vivainsights.pq_data.</span></span><span class="sig-name descname"><span class="pre">load_pq_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/pq_data.html#load_pq_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.pq_data.load_pq_data" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-vivainsights.mt_data">
<span id="vivainsights-mt-data-module"></span><h3>vivainsights.mt_data module<a class="headerlink" href="#module-vivainsights.mt_data" title="Link to this heading">¶</a></h3>
<p>This module returns a data frame containing a meeting query.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.mt_data.load_mt_data">
<span class="sig-prename descclassname"><span class="pre">vivainsights.mt_data.</span></span><span class="sig-name descname"><span class="pre">load_mt_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/mt_data.html#load_mt_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.mt_data.load_mt_data" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-vivainsights.g2g_data">
<span id="vivainsights-g2g-data-module"></span><h3>vivainsights.g2g_data module<a class="headerlink" href="#module-vivainsights.g2g_data" title="Link to this heading">¶</a></h3>
<p>This module returns a data frame containing a group-to-group query.</p>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">g2g_data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">load_g2g_data</span><span class="p">()</span>
</pre></div>
</div>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.g2g_data.load_g2g_data">
<span class="sig-prename descclassname"><span class="pre">vivainsights.g2g_data.</span></span><span class="sig-name descname"><span class="pre">load_g2g_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/g2g_data.html#load_g2g_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.g2g_data.load_g2g_data" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-vivainsights.p2p_data">
<span id="vivainsights-p2p-data-module"></span><h3>vivainsights.p2p_data module<a class="headerlink" href="#module-vivainsights.p2p_data" title="Link to this heading">¶</a></h3>
<p>This module returns a data frame containing a person-to-person query.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.p2p_data.load_p2p_data">
<span class="sig-prename descclassname"><span class="pre">vivainsights.p2p_data.</span></span><span class="sig-name descname"><span class="pre">load_p2p_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/p2p_data.html#load_p2p_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.p2p_data.load_p2p_data" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-vivainsights.p2g_data">
<span id="vivainsights-p2g-data-module"></span><h3>vivainsights.p2g_data module<a class="headerlink" href="#module-vivainsights.p2g_data" title="Link to this heading">¶</a></h3>
<p>This module returns a data frame containing a person-to-group query.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.p2g_data.load_p2g_data">
<span class="sig-prename descclassname"><span class="pre">vivainsights.p2g_data.</span></span><span class="sig-name descname"><span class="pre">load_p2g_data</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/p2g_data.html#load_p2g_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.p2g_data.load_p2g_data" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-vivainsights.p2p_data_sim">
<span id="vivainsights-p2p-data-sim-module"></span><h3>vivainsights.p2p_data_sim module<a class="headerlink" href="#module-vivainsights.p2p_data_sim" title="Link to this heading">¶</a></h3>
<p>Generate an person-to-person query / edgelist based on the graph according to the Watts-Strogatz
small-world network model. Organizational data fields are also simulated for <cite>Organization</cite>, <cite>LevelDesignation</cite>, and <cite>City</cite>
data frame with the same column structure as a person-to-person flexible query.
This has an edgelist structure and can be used directly as an input to <cite>network_p2p()</cite>.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.p2p_data_sim.p2p_data_sim">
<span class="sig-prename descclassname"><span class="pre">vivainsights.p2p_data_sim.</span></span><span class="sig-name descname"><span class="pre">p2p_data_sim</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nei</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">p</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.05</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/p2p_data_sim.html#p2p_data_sim"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.p2p_data_sim.p2p_data_sim" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
</section>
<section id="data-import-export">
<h2>Data Import &amp; Export<a class="headerlink" href="#data-import-export" title="Link to this heading">¶</a></h2>
<section id="module-vivainsights.import_query">
<span id="vivainsights-import-query-module"></span><h3>vivainsights.import_query module<a class="headerlink" href="#module-vivainsights.import_query" title="Link to this heading">¶</a></h3>
<p>This function imports a Viva Insights Query from a .csv file and optimizes the
variable classifications for other functions in the package. The function takes in a file path (x)
and an optional encoding parameter (default is ‘utf-8’). It checks if the file is a .csv file, reads
in the file using pandas, cleans the column names by removing spaces and special characters, and
returns the resulting data as a pandas dataframe. If there is an error reading the file, the function prints an error message.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.import_query.import_query">
<span class="sig-prename descclassname"><span class="pre">vivainsights.import_query.</span></span><span class="sig-name descname"><span class="pre">import_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/import_query.html#import_query"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.import_query.import_query" title="Link to this definition">¶</a></dt>
<dd><section id="id61">
<h4>Name<a class="headerlink" href="#id61" title="Link to this heading">¶</a></h4>
<p>import_query</p>
</section>
<section id="id62">
<h4>Description<a class="headerlink" href="#id62" title="Link to this heading">¶</a></h4>
<p>The function <cite>import_query</cite> reads a CSV file, removes leading and trailing spaces from column names,
and replaces spaces and special characters with underscores in column names.</p>
<dl class="field-list simple">
<dt class="field-odd">param x<span class="colon">:</span></dt>
<dd class="field-odd"><p>The parameter <cite>x</cite> is the input file name or path. It should be a string representing the file name or path of the CSV file you want to import.</p>
</dd>
<dt class="field-even">type x<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param encoding<span class="colon">:</span></dt>
<dd class="field-odd"><p>The encoding parameter specifies the character encoding to be used when reading the CSV file. The default value is ‘utf-8’, which is a widely used encoding for text files. However, you can specify a different encoding if needed.</p>
</dd>
<dt class="field-even">type encoding<span class="colon">:</span></dt>
<dd class="field-even"><p>str, optional</p>
</dd>
<dt class="field-odd">rtype<span class="colon">:</span></dt>
<dd class="field-odd"><p>The variable <cite>data</cite> if the input file is a valid CSV file. If the input file is not a valid CSVfile, the function will print an error message and return <cite>None</cite>.</p>
</dd>
</dl>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
<section id="module-vivainsights.export">
<span id="vivainsights-export-module"></span><h3>vivainsights.export module<a class="headerlink" href="#module-vivainsights.export" title="Link to this heading">¶</a></h3>
<p>This module provides functions for displaying and exporting data frames and plot objects.</p>
<p>Functions:
- display_plot: Universal function to display plots regardless of type (matplotlib.Figure or seaborn.FacetGrid)
- export: Exports data frames or plot objects using the specified method/format</p>
<p>By default, export() copies a data frame to the clipboard, and matplotlib objects are saved as PNG files.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.export.display_plot">
<span class="sig-prename descclassname"><span class="pre">vivainsights.export.</span></span><span class="sig-name descname"><span class="pre">display_plot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plot_obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/export.html#display_plot"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.export.display_plot" title="Link to this definition">¶</a></dt>
<dd><p>Universal function to display plots regardless of type.</p>
<p>Handles both matplotlib.figure.Figure objects (from create_bar, create_trend, etc.)
and seaborn.axisgrid.FacetGrid objects (from create_line with &gt;4 groups).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>plot_obj</strong> (<em>matplotlib.figure.Figure</em><em> or </em><em>seaborn.axisgrid.FacetGrid</em>) – The plot object to display</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Displays the plot using the appropriate method</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>None</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">plot</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">create_line</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">vi</span><span class="o">.</span><span class="n">load_pq_data</span><span class="p">(),</span> <span class="n">metric</span><span class="o">=</span><span class="s1">&#39;Email_hours&#39;</span><span class="p">,</span> <span class="n">hrvar</span><span class="o">=</span><span class="s1">&#39;Organization&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">display_plot</span><span class="p">(</span><span class="n">plot</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.export.export">
<span class="sig-prename descclassname"><span class="pre">vivainsights.export.</span></span><span class="sig-name descname"><span class="pre">export</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">file_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'auto'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'insights</span> <span class="pre">export'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dpi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">300</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timestamp</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/export.html#export"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.export.export" title="Link to this definition">¶</a></dt>
<dd><section id="id63">
<h4>Name<a class="headerlink" href="#id63" title="Link to this heading">¶</a></h4>
</section>
<section id="id64">
<h4>Description<a class="headerlink" href="#id64" title="Link to this heading">¶</a></h4>
<p>Exports the data to the specified file format and saves it to the specified filename.
A general use function to export ‘vivainsights’ outputs to CSV, clipboard, or save as
images. By default, <cite>export()</cite> copies a data frame to the clipboard and displays plot objects.</p>
<dl class="field-list simple">
<dt class="field-odd">param x<span class="colon">:</span></dt>
<dd class="field-odd"><p>The object to export, which can be a data frame or a matplotlib figure object.</p>
</dd>
<dt class="field-even">type x<span class="colon">:</span></dt>
<dd class="field-even"><p>dataframe or matplotlib figure object</p>
</dd>
<dt class="field-odd">param file_format<span class="colon">:</span></dt>
<dd class="field-odd"><p>Character string specifying the method of export. Defaults to ‘auto’ which:
- For DataFrames: copies to clipboard
- For plot objects: displays the plot
Other options: ‘csv’, ‘png’, ‘svg’, ‘jpeg’, ‘pdf’, ‘clipboard’, ‘display’</p>
</dd>
<dt class="field-even">type file_format<span class="colon">:</span></dt>
<dd class="field-even"><p>str, optional</p>
</dd>
<dt class="field-odd">param path<span class="colon">:</span></dt>
<dd class="field-odd"><p>If exporting a file, enter the path and the desired file name. Defaults to “insights export”.</p>
</dd>
<dt class="field-even">type path<span class="colon">:</span></dt>
<dd class="field-even"><p>str or optional</p>
</dd>
<dt class="field-odd">param dpi<span class="colon">:</span></dt>
<dd class="field-odd"><p>Integer specifying the dots per inch for the image. Defaults to 300.</p>
</dd>
<dt class="field-even">type dpi<span class="colon">:</span></dt>
<dd class="field-even"><p>int or optional</p>
</dd>
<dt class="field-odd">param timestamp<span class="colon">:</span></dt>
<dd class="field-odd"><p>Logical vector specifying whether to include a timestamp in the file name. Defaults to True.</p>
</dd>
<dt class="field-even">type timestamp<span class="colon">:</span></dt>
<dd class="field-even"><p>bool or optional</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p>A different output is returned depending on the value passed to the <cite>file_format</cite></p></li>
<li><p><em>Argument</em></p></li>
<li><p><strong>- `”auto”`</strong> (<em>DataFrame -&gt; clipboard, plot objects -&gt; display</em>)</p></li>
<li><p><strong>- `”clipboard”`</strong> (<em>data frame is saved to clipboard.</em>)</p></li>
<li><p><strong>- `”csv”`</strong> (<em>CSV file containing data frame is saved to specified path.</em>)</p></li>
<li><p><strong>- `”png”`</strong> (<em>PNG file containing plot object is saved to specified path.</em>)</p></li>
<li><p><strong>- `”svg”`</strong> (<em>SVG file containing plot object is saved to specified path.</em>)</p></li>
<li><p><strong>- `”jpeg”`</strong> (<em>JPEG file containing plot object is saved to specified path.</em>)</p></li>
<li><p><strong>- `”pdf”`</strong> (<em>PDF file containing plot object is saved to specified path.</em>)</p></li>
<li><p><strong>- `”display”`</strong> (<em>plot object is displayed using display_plot()</em>)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Auto behavior - plot will be displayed</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">km_plot</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">keymetrics_scan</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">load_pq_data</span><span class="p">(),</span> <span class="n">hrvar</span><span class="o">=</span><span class="s1">&#39;Organization&#39;</span><span class="p">,</span> <span class="n">return_type</span> <span class="o">=</span> <span class="s2">&quot;plot&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">km_plot</span><span class="p">)</span>  <span class="c1"># Displays the plot</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Auto behavior - DataFrame will be copied to clipboard</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">load_pq_data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>  <span class="c1"># Copies to clipboard</span>
<span class="gp">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># Explicit file export</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">export</span><span class="p">(</span><span class="n">km_plot</span><span class="p">,</span> <span class="n">file_format</span> <span class="o">=</span> <span class="s1">&#39;png&#39;</span><span class="p">,</span> <span class="n">path</span> <span class="o">=</span> <span class="s1">&#39;keymetrics_scan&#39;</span><span class="p">,</span> <span class="n">timestamp</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</section>
</dd></dl>

</section>
</section>
</section>
<section id="utility-functions">
<h1>🔧 Utility Functions<a class="headerlink" href="#utility-functions" title="Link to this heading">¶</a></h1>
<section id="data-processing-utilities">
<h2>Data Processing Utilities<a class="headerlink" href="#data-processing-utilities" title="Link to this heading">¶</a></h2>
<section id="module-vivainsights.extract_hr">
<span id="vivainsights-extract-hr-module"></span><h3>vivainsights.extract_hr module<a class="headerlink" href="#module-vivainsights.extract_hr" title="Link to this heading">¶</a></h3>
<p>This module extracts HR attributes (organizational data) through a combination of detecting variable class,
number of unique values, regular expressions. There is an option to return either just a list of the variable names
or a DataFrame containing only the variables themselves.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.extract_hr.extract_hr">
<span class="sig-prename descclassname"><span class="pre">vivainsights.extract_hr.</span></span><span class="sig-name descname"><span class="pre">extract_hr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_unique</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_constants</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'names'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/extract_hr.html#extract_hr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.extract_hr.extract_hr" title="Link to this definition">¶</a></dt>
<dd><section id="id65">
<h4>Name<a class="headerlink" href="#id65" title="Link to this heading">¶</a></h4>
<p>extract_hr</p>
</section>
<section id="id66">
<h4>Description<a class="headerlink" href="#id66" title="Link to this heading">¶</a></h4>
<p>The function <cite>extract_hr</cite> extracts HR attributes (organizational data) through a combination of detecting variable class,</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>Contains the data to extract HR (highly-recurring) variables from</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas dataframe</p>
</dd>
<dt class="field-odd">param max_unique<span class="colon">:</span></dt>
<dd class="field-odd"><p>The maximum number of unique values a column can have to be included in the output, defaults to 50 (optional)</p>
</dd>
<dt class="field-even">type max_unique<span class="colon">:</span></dt>
<dd class="field-even"><p>int</p>
</dd>
<dt class="field-odd">param exclude_constants<span class="colon">:</span></dt>
<dd class="field-odd"><p>A boolean value (True/False) indicating whether to exclude columns with constant values or not. If True, columns with constant values will be excluded. If False, all columns will be included regardless of whether they have constant values or not, defaults to True (optional)</p>
</dd>
<dt class="field-even">type exclude_constants<span class="colon">:</span></dt>
<dd class="field-even"><p>boolean</p>
</dd>
<dt class="field-odd">param return_type<span class="colon">:</span></dt>
<dd class="field-odd"><p>The type of output to be returned, either “names” or “vars”. If “names”, the function will return the names of the columns that meet the specified criteria. If “vars”, the function will return the actual columns that meet the specified criteria, defaults to names (optional)</p>
</dd>
<dt class="field-even">type return_type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">rtype<span class="colon">:</span></dt>
<dd class="field-odd"><p>The function is not returning anything. It is printing the column names of the object columns in the filtered dataframe.</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pq_data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">load_pq_data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">extract_hr</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="n">data</span> <span class="o">=</span> <span class="n">pq_data</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">extract_hr</span><span class="p">(</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="n">data</span> <span class="o">=</span> <span class="n">pq_data</span><span class="p">,</span>
<span class="gp">&gt;&gt;&gt; </span>  <span class="n">return_type</span> <span class="o">=</span> <span class="s2">&quot;vars&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
<section id="module-vivainsights.hrvar_count">
<span id="vivainsights-hrvar-count-module"></span><h3>vivainsights.hrvar_count module<a class="headerlink" href="#module-vivainsights.hrvar_count" title="Link to this heading">¶</a></h3>
<p>This module generates a count of the distinct persons in the data population.
Returns a bar plot of the counts by default, with an option to return a summary table.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.hrvar_count.hrvar_count_calc">
<span class="sig-prename descclassname"><span class="pre">vivainsights.hrvar_count.</span></span><span class="sig-name descname"><span class="pre">hrvar_count_calc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/hrvar_count.html#hrvar_count_calc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.hrvar_count.hrvar_count_calc" title="Link to this definition">¶</a></dt>
<dd><p>Calculate the number of distinct persons in the data population, grouped by a selected HR variable.</p>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.hrvar_count.hrvar_count_viz">
<span class="sig-prename descclassname"><span class="pre">vivainsights.hrvar_count.</span></span><span class="sig-name descname"><span class="pre">hrvar_count_viz</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/hrvar_count.html#hrvar_count_viz"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.hrvar_count.hrvar_count_viz" title="Link to this definition">¶</a></dt>
<dd><p>Visualise the number of distinct persons in the data population, grouped by a selected HR variable.</p>
<dl class="field-list simple">
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.hrvar_count.hrvar_count">
<span class="sig-prename descclassname"><span class="pre">vivainsights.hrvar_count.</span></span><span class="sig-name descname"><span class="pre">hrvar_count</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Organization'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">figsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'plot'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/hrvar_count.html#hrvar_count"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.hrvar_count.hrvar_count" title="Link to this definition">¶</a></dt>
<dd><section id="id67">
<h4>Name<a class="headerlink" href="#id67" title="Link to this heading">¶</a></h4>
<p>hrvar_count</p>
</section>
<section id="id68">
<h4>Description<a class="headerlink" href="#id68" title="Link to this heading">¶</a></h4>
<p>This function generates a count of the distinct persons in the data population, grouped by a selected HR variable.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>person query data</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>ppandas dataframe</p>
</dd>
<dt class="field-odd">param hrvar<span class="colon">:</span></dt>
<dd class="field-odd"><p>name of the organizational attribute to be used for grouping</p>
</dd>
<dt class="field-even">type hrvar<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">param figsize<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>figsize</cite> parameter is an optional tuple that specifies the size of the figure for the boxplot visualization. It should be in the format <cite>(width, height)</cite>, where <cite>width</cite> and <cite>height</cite> are in inches. If not provided, a default size of <cite>(8, 6)</cite> will be used.</p>
</dd>
<dt class="field-even">type figsize<span class="colon">:</span></dt>
<dd class="field-even"><p>tuple, optional</p>
</dd>
<dt class="field-odd">param return_type<span class="colon">:</span></dt>
<dd class="field-odd"><p>type of output to return. Defaults to “plot”.</p>
</dd>
<dt class="field-even">type return_type<span class="colon">:</span></dt>
<dd class="field-even"><p>str or optional</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pq_data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">load_pq_data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">hrvar_count</span><span class="p">(</span><span class="n">pq_data</span><span class="p">,</span> <span class="n">hrvar</span> <span class="o">=</span> <span class="s2">&quot;LevelDesignation&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
<section id="module-vivainsights.totals_col">
<span id="vivainsights-totals-col-module"></span><h3>vivainsights.totals_col module<a class="headerlink" href="#module-vivainsights.totals_col" title="Link to this heading">¶</a></h3>
<p>The function <cite>totals_col</cite> adds a new column with a specified total value to a given pandas DataFrame.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.totals_col.totals_col">
<span class="sig-prename descclassname"><span class="pre">vivainsights.totals_col.</span></span><span class="sig-name descname"><span class="pre">totals_col</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Total'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/totals_col.html#totals_col"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.totals_col.totals_col" title="Link to this definition">¶</a></dt>
<dd><section id="id69">
<h4>Name<a class="headerlink" href="#id69" title="Link to this heading">¶</a></h4>
<p>totals_col</p>
</section>
<section id="id70">
<h4>Description<a class="headerlink" href="#id70" title="Link to this heading">¶</a></h4>
<p>The function <cite>totals_col</cite> adds a new column with a specified total value to a given pandas DataFrame.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>A pandas DataFrame that represents the data you want to add a totals column to.</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas dataframe</p>
</dd>
<dt class="field-odd">param total_value<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>total_value</cite> parameter is a string that represents the name of the new column that will be</p>
</dd>
<dt class="field-even">type total_value<span class="colon">:</span></dt>
<dd class="field-even"><p>optional</p>
</dd>
<dt class="field-odd">param added to the DataFrame. By default<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">param it is set to ‘Total’.<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
<dt class="field-odd">rtype<span class="colon">:</span></dt>
<dd class="field-odd"><p>The function <cite>totals_col</cite> returns the modified DataFrame <cite>data</cite> with a new column added.</p>
</dd>
</dl>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
</section>
<section id="text-formatting-utilities">
<h2>Text &amp; Formatting Utilities<a class="headerlink" href="#text-formatting-utilities" title="Link to this heading">¶</a></h2>
<section id="module-vivainsights.us_to_space">
<span id="vivainsights-us-to-space-module"></span><h3>vivainsights.us_to_space module<a class="headerlink" href="#module-vivainsights.us_to_space" title="Link to this heading">¶</a></h3>
<section id="id71">
<h4>Description<a class="headerlink" href="#id71" title="Link to this heading">¶</a></h4>
<p>The function replaces underscores with spaces in a given string.</p>
<dl class="field-list simple">
<dt class="field-odd">param string<span class="colon">:</span></dt>
<dd class="field-odd"><p>A string that may contain underscores that need to be replaced with spaces</p>
</dd>
<dt class="field-even">return<span class="colon">:</span></dt>
<dd class="field-even"><p>The function <cite>us_to_space</cite> takes a string as input and replaces all underscores with spaces</p>
</dd>
</dl>
<p>using the <cite>replace</cite> method. It then returns the modified string with spaces instead of underscores.</p>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">us_to_space</span><span class="p">(</span><span class="s2">&quot;Meeting_and_call_hours_with_manager_1_1&quot;</span><span class="p">)</span>
</pre></div>
</div>
</section>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.us_to_space.us_to_space">
<span class="sig-prename descclassname"><span class="pre">vivainsights.us_to_space.</span></span><span class="sig-name descname"><span class="pre">us_to_space</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/us_to_space.html#us_to_space"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.us_to_space.us_to_space" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</section>
</section>
<section id="validation-configuration">
<h2>Validation &amp; Configuration<a class="headerlink" href="#validation-configuration" title="Link to this heading">¶</a></h2>
<section id="module-vivainsights.check_inputs">
<span id="vivainsights-check-inputs-module"></span><h3>vivainsights.check_inputs module<a class="headerlink" href="#module-vivainsights.check_inputs" title="Link to this heading">¶</a></h3>
<p>The function <cite>check_inputs</cite> checks if the required variables are present in the given data and raises an error if any of them are missing.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.check_inputs.check_inputs">
<span class="sig-prename descclassname"><span class="pre">vivainsights.check_inputs.</span></span><span class="sig-name descname"><span class="pre">check_inputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">requirements</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/check_inputs.html#check_inputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.check_inputs.check_inputs" title="Link to this definition">¶</a></dt>
<dd><section id="id72">
<h4>Name<a class="headerlink" href="#id72" title="Link to this heading">¶</a></h4>
<p>check_inputs</p>
</section>
<section id="id73">
<h4>Description<a class="headerlink" href="#id73" title="Link to this heading">¶</a></h4>
<p>The function <cite>check_inputs</cite> checks if each variable in the <cite>requirements</cite> list is present as a column in the <cite>data</cite> object. If any variable is missing, it raises an error.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>data</cite> parameter is expected to be a pandas DataFrame object that contains the data to be checked.</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas dataframe</p>
</dd>
<dt class="field-odd">param requirements<span class="colon">:</span></dt>
<dd class="field-odd"><p>The <cite>requirements</cite> parameter is a list of variables that are required to be present in the <cite>data</cite> object.</p>
</dd>
<dt class="field-even">type requirements<span class="colon">:</span></dt>
<dd class="field-even"><p>str list</p>
</dd>
</dl>
<p class="rubric">Example</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">check_inputs</span><span class="p">(</span><span class="n">iris</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;Sepal.Length&quot;</span><span class="p">,</span> <span class="s2">&quot;Sepal.Width&quot;</span><span class="p">,</span> <span class="s2">&quot;RandomVariable&quot;</span><span class="p">])</span>
</pre></div>
</div>
</section>
<dl class="field-list simple">
</dl>
</dd></dl>

</section>
<section id="module-vivainsights.color_codes">
<span id="vivainsights-color-codes-module"></span><h3>vivainsights.color_codes module<a class="headerlink" href="#module-vivainsights.color_codes" title="Link to this heading">¶</a></h3>
<p>This module defines an Enum class for colors and creates two color palettes using the defined colors.</p>
<dl class="py class">
<dt class="sig sig-object py" id="vivainsights.color_codes.Colors">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">vivainsights.color_codes.</span></span><span class="sig-name descname"><span class="pre">Colors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/color_codes.html#Colors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.color_codes.Colors" title="Link to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>An enumeration.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="vivainsights.color_codes.Colors.PRIMARY">
<span class="sig-name descname"><span class="pre">PRIMARY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'#1d627e'</span></em><a class="headerlink" href="#vivainsights.color_codes.Colors.PRIMARY" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="vivainsights.color_codes.Colors.HIGHLIGHT_POSITIVE">
<span class="sig-name descname"><span class="pre">HIGHLIGHT_POSITIVE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'#34b1e2'</span></em><a class="headerlink" href="#vivainsights.color_codes.Colors.HIGHLIGHT_POSITIVE" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="vivainsights.color_codes.Colors.HIGHLIGHT_NEGATIVE">
<span class="sig-name descname"><span class="pre">HIGHLIGHT_NEGATIVE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'#fe7f4f'</span></em><a class="headerlink" href="#vivainsights.color_codes.Colors.HIGHLIGHT_NEGATIVE" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="vivainsights.color_codes.Colors.POSITIVE_ALT_1">
<span class="sig-name descname"><span class="pre">POSITIVE_ALT_1</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'#bfe5ee'</span></em><a class="headerlink" href="#vivainsights.color_codes.Colors.POSITIVE_ALT_1" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="vivainsights.color_codes.Colors.POSITIVE_ALT_2">
<span class="sig-name descname"><span class="pre">POSITIVE_ALT_2</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'#b4d5dd'</span></em><a class="headerlink" href="#vivainsights.color_codes.Colors.POSITIVE_ALT_2" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="vivainsights.color_codes.Colors.POSITIVE_ALT_3">
<span class="sig-name descname"><span class="pre">POSITIVE_ALT_3</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'#adc0cb'</span></em><a class="headerlink" href="#vivainsights.color_codes.Colors.POSITIVE_ALT_3" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="vivainsights.color_codes.Colors.NEGATIVE_ALT_1">
<span class="sig-name descname"><span class="pre">NEGATIVE_ALT_1</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'#fcf0eb'</span></em><a class="headerlink" href="#vivainsights.color_codes.Colors.NEGATIVE_ALT_1" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="vivainsights.color_codes.Colors.NEGATIVE_ALT_2">
<span class="sig-name descname"><span class="pre">NEGATIVE_ALT_2</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'#fbdacd'</span></em><a class="headerlink" href="#vivainsights.color_codes.Colors.NEGATIVE_ALT_2" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="vivainsights.color_codes.Colors.NEGATIVE_ALT_3">
<span class="sig-name descname"><span class="pre">NEGATIVE_ALT_3</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'#facebc'</span></em><a class="headerlink" href="#vivainsights.color_codes.Colors.NEGATIVE_ALT_3" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="vivainsights.color_codes.Colors.NON_HIGHLIGHT">
<span class="sig-name descname"><span class="pre">NON_HIGHLIGHT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'#e1e1e1'</span></em><a class="headerlink" href="#vivainsights.color_codes.Colors.NON_HIGHLIGHT" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
</section>
<section id="advanced-analytics">
<h2>Advanced Analytics<a class="headerlink" href="#advanced-analytics" title="Link to this heading">¶</a></h2>
<section id="module-vivainsights.xicor">
<span id="vivainsights-xicor-module"></span><h3>vivainsights.xicor module<a class="headerlink" href="#module-vivainsights.xicor" title="Link to this heading">¶</a></h3>
<p>This module calculates the chatterjee coefficient for a given metric.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.xicor.xicor">
<span class="sig-prename descclassname"><span class="pre">vivainsights.xicor.</span></span><span class="sig-name descname"><span class="pre">xicor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ties</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/xicor.html#xicor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.xicor.xicor" title="Link to this definition">¶</a></dt>
<dd><section id="id74">
<h4>Name<a class="headerlink" href="#id74" title="Link to this heading">¶</a></h4>
<p>xicor</p>
</section>
<section id="id75">
<h4>Description<a class="headerlink" href="#id75" title="Link to this heading">¶</a></h4>
<p>Calculate Chatterjee’s Rank Correlation Coefficient, a measure of association
between two variables, useful for identifying monotonic relationships.</p>
<dl class="field-list simple">
<dt class="field-odd">param x<span class="colon">:</span></dt>
<dd class="field-odd"><p>A numeric array representing the independent variable.</p>
</dd>
<dt class="field-even">type x<span class="colon">:</span></dt>
<dd class="field-even"><p>array-like</p>
</dd>
<dt class="field-odd">param y<span class="colon">:</span></dt>
<dd class="field-odd"><p>A numeric array representing the dependent variable.</p>
</dd>
<dt class="field-even">type y<span class="colon">:</span></dt>
<dd class="field-even"><p>array-like</p>
</dd>
<dt class="field-odd">param ties<span class="colon">:</span></dt>
<dd class="field-odd"><dl class="simple">
<dt>A boolean indicating whether to handle ties in the data.</dt><dd><p>Default is True.</p>
</dd>
</dl>
</dd>
<dt class="field-even">type ties<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>float</strong></p>
</dd>
<dt class="field-even">rtype<span class="colon">:</span></dt>
<dd class="field-even"><p>A numeric value representing Chatterjee’s rank correlation coefficient.</p>
</dd>
<dt class="field-odd">raises ValueError<span class="colon">:</span></dt>
<dd class="field-odd"><p>If the lengths of X and Y are not the same.:</p>
</dd>
<dt class="field-even">raises Examples:<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
<dt class="field-odd">raises &gt;&gt;&gt; X = [1, 2, 3, 4, 5]<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">raises &gt;&gt;&gt; Y = [2, 1, 4, 3, 5]<span class="colon">:</span></dt>
<dd class="field-even"><p></p></dd>
<dt class="field-odd">raises &gt;&gt;&gt; xicor(X, Y)<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
</dl>
</section>
</dd></dl>

</section>
<section id="module-vivainsights.keymetrics_scan">
<span id="vivainsights-key-metrics-scan-module"></span><h3>vivainsights.key_metrics_scan module<a class="headerlink" href="#module-vivainsights.keymetrics_scan" title="Link to this heading">¶</a></h3>
<p>This script generate a summary of key metrics with options to return a heatmap or a summary table.</p>
<dl class="py function">
<dt class="sig sig-object py" id="vivainsights.keymetrics_scan.keymetrics_scan">
<span class="sig-prename descclassname"><span class="pre">vivainsights.keymetrics_scan.</span></span><span class="sig-name descname"><span class="pre">keymetrics_scan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hrvar</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Organization'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mingroup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metrics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">['Workweek_span',</span> <span class="pre">'Collaboration_hours',</span> <span class="pre">'After_hours_collaboration_hours',</span> <span class="pre">'Meetings',</span> <span class="pre">'Meeting_hours',</span> <span class="pre">'After_hours_meeting_hours',</span> <span class="pre">'Low_quality_meeting_hours',</span> <span class="pre">'Meeting_hours_with_manager_1_on_1',</span> <span class="pre">'Meeting_hours_with_manager',</span> <span class="pre">'Emails_sent',</span> <span class="pre">'Email_hours',</span> <span class="pre">'After_hours_email_hours',</span> <span class="pre">'Generated_workload_email_hours',</span> <span class="pre">'Total_focus_hours',</span> <span class="pre">'Internal_network_size',</span> <span class="pre">'Networking_outside_organization',</span> <span class="pre">'External_network_size',</span> <span class="pre">'Networking_outside_company']</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'plot'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">low_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#4169E1'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mid_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#F1CC9E'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">high_color</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'#D8182A'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">textsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">plot_row_scaling_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.8</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/vivainsights/keymetrics_scan.html#keymetrics_scan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#vivainsights.keymetrics_scan.keymetrics_scan" title="Link to this definition">¶</a></dt>
<dd><section id="id76">
<h4>Name<a class="headerlink" href="#id76" title="Link to this heading">¶</a></h4>
<p>keymetrics_scan</p>
</section>
<section id="id77">
<h4>Description<a class="headerlink" href="#id77" title="Link to this heading">¶</a></h4>
<p>Generate a summary of key metrics with options to return a heatmap or a summary table.</p>
<dl class="field-list simple">
<dt class="field-odd">param data<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Person Query dataset in the form of a pandas dataframe.</p>
</dd>
<dt class="field-even">type data<span class="colon">:</span></dt>
<dd class="field-even"><p>pandas.DataFrame</p>
</dd>
<dt class="field-odd">param hrvar<span class="colon">:</span></dt>
<dd class="field-odd"><p>The column name to group the data by. Defaults to <cite>“Organization”</cite>.</p>
</dd>
<dt class="field-even">type hrvar<span class="colon">:</span></dt>
<dd class="field-even"><p>str, optional</p>
</dd>
<dt class="field-odd">param mingroup<span class="colon">:</span></dt>
<dd class="field-odd"><p>The minimum number of employees required to include a group in the analysis. Defaults to <cite>5</cite>.</p>
</dd>
<dt class="field-even">type mingroup<span class="colon">:</span></dt>
<dd class="field-even"><p>int, optional</p>
</dd>
<dt class="field-odd">param metrics<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of metric column names to calculate averages for. Defaults to:
- <cite>“Workweek_span”</cite>
- <cite>“Collaboration_hours”</cite>
- <cite>“After_hours_collaboration_hours”</cite>
- <cite>“Meetings”</cite>
- <cite>“Meeting_hours”</cite>
- <cite>“After_hours_meeting_hours”</cite>
- <cite>“Low_quality_meeting_hours”</cite>
- <cite>“Meeting_hours_with_manager_1_on_1”</cite>
- <cite>“Meeting_hours_with_manager”</cite>
- <cite>“Emails_sent”</cite>
- <cite>“Email_hours”</cite>
- <cite>“After_hours_email_hours”</cite>
- <cite>“Generated_workload_email_hours”</cite>
- <cite>“Total_focus_hours”</cite>
- <cite>“Internal_network_size”</cite>
- <cite>“Networking_outside_organization”</cite>
- <cite>“External_network_size”</cite>
- <cite>“Networking_outside_company”</cite></p>
</dd>
<dt class="field-even">type metrics<span class="colon">:</span></dt>
<dd class="field-even"><p>list of str, optional</p>
</dd>
<dt class="field-odd">param return_type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Specifies the type of output to return. Valid values are:
- <cite>“plot”</cite> (default): Generate a heatmap visualization.
- <cite>“table”</cite>: Return a summary table as a pandas DataFrame.</p>
</dd>
<dt class="field-even">type return_type<span class="colon">:</span></dt>
<dd class="field-even"><p>str, optional</p>
</dd>
<dt class="field-odd">param mid_color<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type mid_color<span class="colon">:</span></dt>
<dd class="field-even"><p>str, optional</p>
</dd>
<dt class="field-odd">param high_color<span class="colon">:</span></dt>
<dd class="field-odd"><p></p></dd>
<dt class="field-even">type high_color<span class="colon">:</span></dt>
<dd class="field-even"><p>str, optional</p>
</dd>
<dt class="field-odd">param low_color<span class="colon">:</span></dt>
<dd class="field-odd"><p>Color codes for low, mid, and high values in the heatmap. Defaults to:
- <cite>low_color=”#4169E1”</cite> (blue)
- <cite>mid_color=”#F1CC9E”</cite> (beige)
- <cite>high_color=”#D8182A”</cite> (red)
Color codes for low, mid, and high values in the heatmap. Can be set to:
- <cite>Black: “#000000”</cite>
- <cite>White: “#FFFFFF”</cite>
- <cite>Red: “#FF0000”</cite>
- <cite>Lime: “#00FF00”</cite>
- <cite>Blue: “#0000FF”</cite>
- <cite>Yellow: “#FFFF00”</cite>
- <cite>Cyan/Aqua: “#00FFFF”</cite>
- <cite>Magenta/Fuchsia: “#FF00FF”</cite>
- <cite>Silver: “#C0C0C0”</cite>
- <cite>Gray: “#808080”</cite>
- <cite>Maroon: “#800000”</cite>
- <cite>Olive: “#808000”</cite>
- <cite>Green: “#008000”</cite>
- <cite>Purple: “#800080”</cite>
- <cite>Teal: “#008080”</cite>
- <cite>Navy: “#000080”</cite>
- <cite>Light Gray: “#D3D3D3”</cite>
- <cite>Dark Gray: “#A9A9A9”</cite>
- <cite>Dim Gray: “#696969”</cite>
- <cite>Slate Gray: “#708090”</cite>
- <cite>Light Slate Gray: “#778899”</cite>
- <cite>Crimson: “#DC143C”</cite>
- <cite>Coral: “#FF7F50”</cite>
- <cite>Tomato: “#FF6347”</cite>
- <cite>Orange: “#FFA500”</cite>
- <cite>Gold: “#FFD700”</cite>
- <cite>Dark Orange: “#FF8C00”</cite>
- <cite>Light Salmon: “#FFA07A”</cite>
- <cite>Dodger Blue: “#1E90FF”</cite>
- <cite>Sky Blue: “#87CEEB”</cite>
- <cite>Steel Blue: “#4682B4”</cite>
- <cite>Light Blue: “#ADD8E6”</cite>
- <cite>Dark Blue: “#00008B”</cite>
- <cite>Medium Blue: “#0000CD”</cite>
- <cite>Royal Blue: “#4169E1”</cite>
- <cite>Sienna: “#A0522D”</cite>
- <cite>Saddle Brown: “#8B4513”</cite>
- <cite>Chocolate: “#D2691E”</cite>
- <cite>Peru: “#CD853F”</cite>
- <cite>Sandy Brown: “#F4A460”</cite>
- <cite>Tan: “#D2B48C”</cite>
- <cite>Lavender: “#E6E6FA”</cite>
- <cite>Thistle: “#D8BFD8”</cite>
- <cite>Plum: “#DDA0DD”</cite>
- <cite>Orchid: “#DA70D6”</cite>
- <cite>Peach Puff: “#FFDAB9”</cite>
- <cite>Mint Cream: “#F5FFFA”</cite>
- <cite>Forest Green: “#228B22”</cite>
- <cite>Sea Green: “#2E8B57”</cite>
- <cite>Medium Sea Green: “#3CB371”</cite>
- <cite>Spring Green: “#00FF7F”</cite>
- <cite>Pale Green: “#98FB98”</cite>
- <cite>Indian Red: “#CD5C5C”</cite>
- <cite>Rosy Brown: “#BC8F8F”</cite>
- <cite>Hot Pink: “#FF69B4”</cite>
- <cite>Deep Pink: “#FF1493”</cite>
- <cite>Light Pink: “#FFB6C1”</cite>
- <cite>Midnight Blue: “#191970”</cite>
- <cite>Cornflower Blue: “#6495ED”</cite>
- <cite>Powder Blue: “#B0E0E6”</cite>
- <cite>Light Sky Blue: “#87CEFA”</cite></p>
</dd>
<dt class="field-even">type low_color<span class="colon">:</span></dt>
<dd class="field-even"><p>str, optional</p>
</dd>
<dt class="field-odd">param textsize<span class="colon">:</span></dt>
<dd class="field-odd"><p>Font size for text elements in the heatmap. Defaults to <cite>10</cite>.</p>
</dd>
<dt class="field-even">type textsize<span class="colon">:</span></dt>
<dd class="field-even"><p>int, optional</p>
</dd>
<dt class="field-odd">returns<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>- If `return_type=”plot”`</strong> (<em>Displays a heatmap visualization of the rescaled key metrics grouped by the specified HR attribute.</em>)</p></li>
<li><p><strong>- If `return_type=”table”`</strong> (<em>Returns a pandas DataFrame containing a summary table of average metric values grouped by the specified HR attribute.</em>)</p></li>
</ul>
</dd>
<dt class="field-even">raises ValueError<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p>If none of the specified metrics are present in the dataset.
    - If no data is available after applying the <cite>mingroup</cite> filter.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span><span class="w"> </span><span class="nn">vivainsights</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">vi</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">pq_data</span> <span class="o">=</span> <span class="n">vi</span><span class="o">.</span><span class="n">load_pq_data</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">keymetrics_scan</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">pq_data</span><span class="p">,</span> <span class="n">hrvar</span><span class="o">=</span><span class="s2">&quot;Organization&quot;</span><span class="p">,</span> <span class="n">mingroup</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">return_type</span><span class="o">=</span><span class="s2">&quot;table&quot;</span><span class="p">)</span>
<span class="go"># Returns a summary table grouped by &quot;Team&quot; with a minimum group size of 10.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">keymetrics_scan</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">pq_data</span><span class="p">,</span> <span class="n">hrvar</span><span class="o">=</span><span class="s2">&quot;Organization&quot;</span><span class="p">,</span> <span class="n">metrics</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;Workweek_span&quot;</span><span class="p">,</span> <span class="s2">&quot;Meeting_hours&quot;</span><span class="p">],</span> <span class="n">return_type</span><span class="o">=</span><span class="s2">&quot;plot&quot;</span><span class="p">)</span>
<span class="go"># Displays a heatmap of the rescaled &quot;Workweek_span&quot; and &quot;Meeting_hours&quot; metrics grouped by &quot;Department&quot;.</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">vi</span><span class="o">.</span><span class="n">keymetrics_scan</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">pq_data</span><span class="p">,</span> <span class="n">low_color</span><span class="o">=</span><span class="s2">&quot;#4169E1&quot;</span><span class="p">,</span> <span class="n">mid_color</span><span class="o">=</span><span class="s2">&quot;#F1CC9E&quot;</span><span class="p">,</span> <span class="n">high_color</span><span class="o">=</span><span class="s2">&quot;#D8182A&quot;</span><span class="p">,</span> <span class="n">textsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="go"># Generates a heatmap using the low mid and high color palette with font size 12.</span>
</pre></div>
</div>
</section>
</dd></dl>

</section>
</section>
</section>
<section id="module-vivainsights">
<span id="module-contents"></span><h1>Module contents<a class="headerlink" href="#module-vivainsights" title="Link to this heading">¶</a></h1>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="demo-vivainsights-py.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Demo Notebook for the vivainsights Python package</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="modules.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">vivainsights</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, Microsoft Corporation
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer no-toc">
      
      
      
    </aside>
  </div>
</div><script src="_static/documentation_options.js?v=c87aa342"></script>
    <script src="_static/doctools.js?v=9a2dae69"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/scripts/furo.js?v=46bd48cc"></script>
    <script src="_static/design-tabs.js?v=f930bc37"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    </body>
</html>